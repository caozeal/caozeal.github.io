<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>MCPæ¼«æ¸¸</title>
    <link href="/2025/03/07/AI/MCP%E6%BC%AB%E6%B8%B8/"/>
    <url>/2025/03/07/AI/MCP%E6%BC%AB%E6%B8%B8/</url>
    
    <content type="html"><![CDATA[<h1 id="MCPæ¼«æ¸¸"><a href="#MCPæ¼«æ¸¸" class="headerlink" title="MCPæ¼«æ¸¸"></a>MCPæ¼«æ¸¸</h1><blockquote><p>æœ¬æ–‡æ¶‰åŠå…³é”®è¯ï¼šAI, MCP, Claude, python, cursor</p></blockquote><blockquote><p>Model Context Protocol (MCP) æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œå®ƒå®ç°äº†AIåº”ç”¨ä¸å¤–éƒ¨æ•°æ®æºä¹‹é—´çš„æ— ç¼é›†æˆã€‚ç”±Anthropicå¼€æºï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯æ ‡å‡†åŒ–AIç³»ç»Ÿè·å–ä¸Šä¸‹æ–‡çš„æ–¹å¼ï¼Œä½¿AIåŠ©æ‰‹èƒ½å¤Ÿæ›´å¥½åœ°è®¿é—®å’Œåˆ©ç”¨å„ç±»æ•°æ®æºã€‚</p></blockquote><h2 id="ä¸€ã€ä»AIGCè¯´èµ·"><a href="#ä¸€ã€ä»AIGCè¯´èµ·" class="headerlink" title="ä¸€ã€ä»AIGCè¯´èµ·"></a>ä¸€ã€ä»AIGCè¯´èµ·</h2><p>AIGCï¼ˆArtificial Intelligence Generated Content, AIç”Ÿæˆå†…å®¹ï¼‰æŒ‡çš„æ˜¯åˆ©ç”¨äººå·¥æ™ºèƒ½æŠ€æœ¯è‡ªåŠ¨ç”Ÿæˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å†…å®¹ï¼Œè¿™æ˜¯AIæŠ€æœ¯åœ¨åˆ›æ„é¢†åŸŸçš„é‡è¦åº”ç”¨ã€‚å¦‚gptç³»åˆ—ã€claudeã€deepseekç­‰å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œdall-eã€midjourneyã€stable diffusionç­‰å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œä»¥åŠsunoã€jukedeckç­‰éŸ³ä¹ç”ŸæˆAIç­‰ã€‚ç»è¿‡äº†æœ€è¿‘è¿™å‡ å¹´çš„é£é€Ÿå‘å±•ï¼ŒAIGCæŠ€æœ¯å·²ç»åˆ‡å®æ”¹å˜äº†æˆ‘ä»¬çš„ç”Ÿæ´»å’Œå·¥ä½œæ–¹å¼ã€‚</p><p>çº¯ç²¹çš„AIGCæŠ€æœ¯ï¼Œå¯ä»¥æ˜¯ä¸€ä½è€å¸ˆï¼Œå¯ä»¥æ˜¯ä¸€æšç½‘å‹ï¼Œå¯ä»¥æ˜¯ä¸€æœ¬ç¿»è¯‘ä¹¦ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä½åˆ›ä½œè€…ï¼Œæˆ‘ä»¬ç•…æ‰€æ¬²è¨€åœ°ä¸ä¹‹äº¤è°ˆï¼Œä¸ç”¨æ‹…å¿ƒè¢«å˜²ç¬‘é—®é¢˜çš„æ— çŸ¥ï¼Œä¹Ÿä¸ä¼šè¢«å«Œå¼ƒå–‹å–‹ä¸ä¼‘çš„æ¢è®¨ã€‚</p><p>åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„çƒ­åˆ‡ä½¿ç”¨åï¼Œæ–°é²œæ„Ÿé€€å»ï¼Œæˆ‘ä»¬ä¸ç¦æ€è€ƒï¼Œå¯¹è¯æ¡†ä¹‹å¤–ï¼Œæˆ‘ä»¬èƒ½ç”¨ä»–(å¥¹)åšä»€ä¹ˆï¼Ÿä»–ï¼ˆå¥¹ï¼‰ä»¬æ˜¯å¦èƒ½å¤Ÿä¸ä»…ä»…æ˜¯â€œå¼ å˜´è¯´è¯â€ï¼Œè€Œæ˜¯è¿›ä¸€æ­¥ï¼Œå»â€œåŠ¨æ‰‹åšäº‹â€ï¼Ÿè§£æå®Œexcelåçš„æ•°æ®æ˜¯å¦å¯ä»¥ä¸ç”¨å¤åˆ¶ç²˜è´´åˆ°æ•°æ®åº“æˆ–æŠ¥å‘Šä¸­ï¼Œç”Ÿæˆçš„å‘½ä»¤æ˜¯å¦å¯ä»¥ç›´æ¥è¿è¡Œï¼Œç¿»è¯‘åçš„æ–‡æœ¬è‡ªåŠ¨æ›¿æ¢åˆ°åŸæ–‡æ¡£ä¸­ï¼Œç”Ÿæˆçš„éŸ³ä¹æ˜¯å¦å¯ä»¥ç›´æ¥ä¸Šä¼ åˆ°éŸ³ä¹å¹³å°ï¼Œç”Ÿæˆçš„å›¾åƒæ˜¯ä¸æ˜¯èƒ½å¤Ÿè‡ªåŠ¨é…ä¸Šæ–‡æ¡ˆå¹¶å‘å¸ƒåˆ°æœ‹å‹åœˆï¼ŸAIæ˜¯å¦èƒ½åšåˆ°è¿™æœ€åä¸€æ­¥ï¼Œä¹ƒè‡³å°†ä»–ï¼ˆå¥¹ï¼‰çš„æ€æƒ³æ— é™æ‰©å±•ï¼Œåœ¨æ•´ä¸ªäº’è”ç½‘ä¸­<br>è”“å»¶ï¼Œåšåˆ°ä¸‡ç‰©äº’è”çš„æ ¸å¿ƒï¼Ÿç­”æ¡ˆæ˜¯ï¼Œå½“ç„¶å¯ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿç¡®å®æ˜¯åœ¨å‘è¿™ä¸ªæ–¹å‘å‘å±•ï¼ŒMCPå°±æ˜¯è¿™ä¹ˆä¸€ä¸ªåè®®ï¼Œå°†AIä¸å¤–éƒ¨å·¥å…·è¿æ¥ï¼Œæ‰©å±•AIè¾¹ç•Œã€‚ç”¨MCPå®˜ç½‘çš„è¯æ¥è¯´ï¼Œâ€œå¯ä»¥æŠŠ MCP æƒ³è±¡æˆ AI åº”ç”¨çš„ USB-C ç«¯å£ã€‚å°±åƒ USB-C ä¸ºè®¾å¤‡è¿æ¥å„ç§å¤–å›´è®¾å¤‡å’Œé…ä»¶æä¾›äº†æ ‡å‡†åŒ–çš„æ–¹å¼ä¸€æ ·ï¼ŒMCP ä¸º AI æ¨¡å‹è¿æ¥ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·æä¾›äº†æ ‡å‡†åŒ–çš„æ–¹å¼ã€‚â€</p><blockquote><p>MCP is an open protocol that standardizes how applications provide context to LLMs. Think of MCP like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools.</p></blockquote><blockquote><p><em>MCP æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œæ ‡å‡†åŒ–äº†åº”ç”¨ç¨‹åºå¦‚ä½•å‘LLMsæä¾›æ¨¡å‹ä¸Šä¸‹æ–‡ã€‚å¯ä»¥æŠŠ MCP æƒ³è±¡æˆ AI åº”ç”¨çš„ USB-C ç«¯å£ã€‚å°±åƒ USB-C ä¸ºè®¾å¤‡è¿æ¥å„ç§å¤–å›´è®¾å¤‡å’Œé…ä»¶æä¾›äº†æ ‡å‡†åŒ–çš„æ–¹å¼ä¸€æ ·ï¼ŒMCP ä¸º AI æ¨¡å‹è¿æ¥ä¸åŒçš„æ•°æ®æºå’Œå·¥å…·æä¾›äº†æ ‡å‡†åŒ–çš„æ–¹å¼ã€‚</em></p></blockquote><blockquote><p>â€“ MCPå®˜ç½‘(<a href="https://modelcontextprotocol.io/introduction">https://modelcontextprotocol.io/introduction</a>)</p></blockquote><h2 id="äºŒã€MCPæ¦‚è§ˆ"><a href="#äºŒã€MCPæ¦‚è§ˆ" class="headerlink" title="äºŒã€MCPæ¦‚è§ˆ"></a>äºŒã€MCPæ¦‚è§ˆ</h2><p>MCPæ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿå»ºç«‹ä»–ä»¬æ•°æ®æºå’Œäººå·¥æ™ºèƒ½é©±åŠ¨å·¥å…·ä¹‹é—´çš„å®‰å…¨åŒå‘è¿æ¥ã€‚è¯¥æ¶æ„å¾ˆç®€å•ï¼šå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ MCP æœåŠ¡å™¨å…¬å¼€ä»–ä»¬çš„æ•°æ®ï¼Œæˆ–è€…æ„å»ºè¿æ¥åˆ°è¿™äº›æœåŠ¡å™¨çš„äººå·¥æ™ºèƒ½åº”ç”¨ç¨‹åºï¼ˆMCP å®¢æˆ·ç«¯ï¼‰ã€‚</p><h3 id="MCPé€šç”¨æ¶æ„"><a href="#MCPé€šç”¨æ¶æ„" class="headerlink" title="MCPé€šç”¨æ¶æ„"></a>MCPé€šç”¨æ¶æ„</h3><p><img src="/../../resources/ai/MCP_architecture.png" alt="MCPé€šç”¨æ¶æ„"></p><p>MCPå®šä¹‰äº†ä¸‰ä¸ªä¸»è¦è§’è‰²ï¼š</p><ol><li>Host: å‘èµ·è¿æ¥çš„LLMåº”ç”¨ï¼Œæ¯”å¦‚Claude Desktop, cursorç­‰</li><li>Client: Hoståº”ç”¨ä¸­çš„è¿æ¥å™¨ï¼Œä¸æœåŠ¡å™¨ä¿æŒ 1:1 è¿æ¥</li><li>Server: é€šè¿‡æ ‡å‡†åŒ–çš„MCPæš´éœ²ç‰¹å®šåŠŸèƒ½çš„è½»é‡çº§ç¨‹åº</li></ol><p>hosté€šè¿‡clientè¿æ¥åˆ°serverï¼Œå¤§æ¨¡å‹å†³ç­–å½“å‰ä¼šè¯éœ€è¦æ‰§è¡Œå“ªä¸ªsererçš„å“ªä¸ªå‘½ä»¤ï¼Œserverè´Ÿè´£å¤„ç†æ•°æ®çš„è·å–å’Œå¤„ç†ã€‚å…¶ä¸­ï¼Œclient äºserverä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡MCPåè®®è¿›è¡Œçš„ã€‚<br>ç›®å‰serverä»…æ”¯æŒæœ¬åœ°æœåŠ¡ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªæ’ä»¶ï¼Œå³æ’å³ç”¨ã€‚</p><h3 id="MCPè¯•ç”¨"><a href="#MCPè¯•ç”¨" class="headerlink" title="MCPè¯•ç”¨"></a>MCPè¯•ç”¨</h3><p>ä¸‹é¢ä»¥cursorä¸ºä¾‹ï¼Œå¼•å…¥sqliteæ•°æ®åº“ï¼Œå±•ç¤ºMCPçš„å·¥ä½œæµç¨‹ã€‚<br>å…¶ä¸­ï¼š</p><ul><li>Host: cursor</li><li>Client: cursor-mcp</li><li>Server: sqlite mcp server</li></ul><p>sqlite mcp serverçš„å…·ä½“é…ç½®å¯ä»¥å‚è€ƒ[sqlite-mcp-server](<a href="https://github.com/modelcontextprotocol/servers/tree/HEAD/src/sqlite%EF%BC%89">https://github.com/modelcontextprotocol/servers/tree/HEAD/src/sqliteï¼‰</a></p><h4 id="1-ç¬¬ä¸€æ­¥æ‰“å¼€cursor-settingsï¼Œé€‰æ‹©MCPé€‰é¡¹ï¼Œç‚¹å‡»â€œAdd-Serverâ€æ·»åŠ ä¸€ä¸ªæ–°çš„MCPæœåŠ¡å™¨"><a href="#1-ç¬¬ä¸€æ­¥æ‰“å¼€cursor-settingsï¼Œé€‰æ‹©MCPé€‰é¡¹ï¼Œç‚¹å‡»â€œAdd-Serverâ€æ·»åŠ ä¸€ä¸ªæ–°çš„MCPæœåŠ¡å™¨" class="headerlink" title="1. ç¬¬ä¸€æ­¥æ‰“å¼€cursor settingsï¼Œé€‰æ‹©MCPé€‰é¡¹ï¼Œç‚¹å‡»â€œAdd Serverâ€æ·»åŠ ä¸€ä¸ªæ–°çš„MCPæœåŠ¡å™¨"></a>1. ç¬¬ä¸€æ­¥æ‰“å¼€cursor settingsï¼Œé€‰æ‹©MCPé€‰é¡¹ï¼Œç‚¹å‡»â€œAdd Serverâ€æ·»åŠ ä¸€ä¸ªæ–°çš„MCPæœåŠ¡å™¨</h4><p><img src="/../../resources/ai/mcp_cursor_settings.png" alt="cursor settings"></p><h4 id="2-é€‰æ‹©commandï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»â€œAdd-Commandâ€æ·»åŠ ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º"><a href="#2-é€‰æ‹©commandï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»â€œAdd-Commandâ€æ·»åŠ ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º" class="headerlink" title="2. é€‰æ‹©commandï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»â€œAdd Commandâ€æ·»åŠ ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º"></a>2. é€‰æ‹©commandï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸å…³ä¿¡æ¯ï¼Œç‚¹å‡»â€œAdd Commandâ€æ·»åŠ ä¸€ä¸ªæ–°çš„å‘½ä»¤ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</h4><p><img src="/../../resources/ai/mcp_cursor_sqlite.png" alt="cursor command"></p><ul><li>uvx &#x3D; uv tool runçš„ç¼©å†™ï¼Œè¡¨ç¤ºè¿è¡Œuvå·¥å…·ï¼Œuvæ˜¯ä¸€ä¸ªPythonåŒ…å’Œé¡¹ç›®ç®¡ç†å™¨ï¼Œè¿™é‡Œä»£è¡¨è¿™ä¸ªMCP serveræ˜¯é‡‡ç”¨pythonå®ç°çš„ã€‚ï¼ˆæˆ‘ä»¬éœ€è¦æå‰å‡†å¤‡pythonç¯å¢ƒï¼Œå’Œå®‰è£…uvï¼‰</li><li>[sqlite-mcp-server](<a href="https://github.com/modelcontextprotocol/servers/tree/HEAD/src/sqlite%EF%BC%89%E4%B8%AD%E4%BB%8B%E7%BB%8D%E4%BA%86claude">https://github.com/modelcontextprotocol/servers/tree/HEAD/src/sqliteï¼‰ä¸­ä»‹ç»äº†claude</a> desktopçš„é…ç½®æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶è½¬åŒ–ä¸ºcursorçš„é…ç½®å³å¯ï¼š<code>uvx mcp-server-sqlite --db-path ~/test.db</code>ï¼Œ æˆ–è€…åœ¨é¡¹ç›®ä¸‹<code>./.cursor/mcp.json</code>ä¸­æŒ‰ç…§claude desktopçš„é…ç½®æ–¹æ³•é…ç½®ï¼š</li></ul><p>claude desktopçš„é…ç½®æ–¹æ³•ï¼š</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"># <span class="hljs-keyword">Add</span> the <span class="hljs-keyword">server</span> <span class="hljs-keyword">to</span> your claude_desktop_config.json<br>&quot;mcpServers&quot;: &#123;<br>  &quot;sqlite&quot;: &#123;<br>    &quot;command&quot;: &quot;uv&quot;,<br>    &quot;args&quot;: [<br>      &quot;--directory&quot;,<br>      &quot;parent_of_servers_repo/servers/src/sqlite&quot;,<br>      &quot;run&quot;,<br>      &quot;mcp-server-sqlite&quot;,<br>      &quot;--db-path&quot;,<br>      &quot;~/test.db&quot;<br>    ]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°cursorçš„MCPæœåŠ¡å™¨åˆ—è¡¨ä¸­å·²ç»æ·»åŠ äº†sqliteï¼Œå¹¶ä¸”æˆåŠŸè·å–åˆ°äº†serverçš„ä¸€äº›ä¿¡æ¯ã€‚è¿™æ—¶æˆ‘ä»¬çš„cursor-agentå·²ç»å¯ä»¥é€šè¿‡MCPåè®®æ¥æŸ¥è¯¢æ“ä½œæˆ‘ä»¬æŒ‡å®šçš„sqliteæ•°æ®åº“äº†ã€‚"><a href="#3-é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°cursorçš„MCPæœåŠ¡å™¨åˆ—è¡¨ä¸­å·²ç»æ·»åŠ äº†sqliteï¼Œå¹¶ä¸”æˆåŠŸè·å–åˆ°äº†serverçš„ä¸€äº›ä¿¡æ¯ã€‚è¿™æ—¶æˆ‘ä»¬çš„cursor-agentå·²ç»å¯ä»¥é€šè¿‡MCPåè®®æ¥æŸ¥è¯¢æ“ä½œæˆ‘ä»¬æŒ‡å®šçš„sqliteæ•°æ®åº“äº†ã€‚" class="headerlink" title="3. é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°cursorçš„MCPæœåŠ¡å™¨åˆ—è¡¨ä¸­å·²ç»æ·»åŠ äº†sqliteï¼Œå¹¶ä¸”æˆåŠŸè·å–åˆ°äº†serverçš„ä¸€äº›ä¿¡æ¯ã€‚è¿™æ—¶æˆ‘ä»¬çš„cursor agentå·²ç»å¯ä»¥é€šè¿‡MCPåè®®æ¥æŸ¥è¯¢æ“ä½œæˆ‘ä»¬æŒ‡å®šçš„sqliteæ•°æ®åº“äº†ã€‚"></a>3. é…ç½®å¥½ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°cursorçš„MCPæœåŠ¡å™¨åˆ—è¡¨ä¸­å·²ç»æ·»åŠ äº†sqliteï¼Œå¹¶ä¸”æˆåŠŸè·å–åˆ°äº†serverçš„ä¸€äº›ä¿¡æ¯ã€‚è¿™æ—¶æˆ‘ä»¬çš„cursor agentå·²ç»å¯ä»¥é€šè¿‡MCPåè®®æ¥æŸ¥è¯¢æ“ä½œæˆ‘ä»¬æŒ‡å®šçš„sqliteæ•°æ®åº“äº†ã€‚</h4><p><img src="/../../resources/ai/mcp_cursor_sqlite_server.png" alt="cursor mcp server"></p><h4 id="4-æ•°æ®åº“ä¸­æˆ‘å·²ç»æå‰åˆå§‹åŒ–äº†ä¸€äº›æ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡agentæ¥æ“ä½œè¿™äº›æ•°æ®ã€‚"><a href="#4-æ•°æ®åº“ä¸­æˆ‘å·²ç»æå‰åˆå§‹åŒ–äº†ä¸€äº›æ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡agentæ¥æ“ä½œè¿™äº›æ•°æ®ã€‚" class="headerlink" title="4. æ•°æ®åº“ä¸­æˆ‘å·²ç»æå‰åˆå§‹åŒ–äº†ä¸€äº›æ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡agentæ¥æ“ä½œè¿™äº›æ•°æ®ã€‚"></a>4. æ•°æ®åº“ä¸­æˆ‘å·²ç»æå‰åˆå§‹åŒ–äº†ä¸€äº›æ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡agentæ¥æ“ä½œè¿™äº›æ•°æ®ã€‚</h4><ul><li>User: æŸ¥æ‰¾sqliteä¸­çš„æ¨¡å‹ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œåˆ†ç±»ç»Ÿè®¡</li><li>Agent:</li></ul><p><img src="/../../resources/ai/mcp_cursor_demo.png" alt="cursor mcp demo"></p><p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œcursor agenté€šè¿‡MCPåè®®æˆåŠŸè¿æ¥åˆ°äº†sqlite serverï¼Œå¹¶ä¸”æˆåŠŸæŸ¥è¯¢å¹¶è¿›è¡Œäº†åˆ†æã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬æ·»åŠ filesystem-serverï¼Œå¹¶è®©AIæ“ä½œæ–‡ä»¶</p><ul><li>User: æ‰¾å‡ºä½ è®¤ä¸ºæ€§ä»·æ¯”æœ€é«˜çš„äº”ä¸ªæ¨¡å‹ï¼Œå¹¶å¯¼å‡ºä¸ºcsvæ ¼å¼ä¿å­˜åˆ°æ¡Œé¢ä¸Š</li><li>Agent:</li></ul><p><img src="/../../resources/ai/mcp_cursor_save.png" alt="cursor mcp demo"></p><p>æ­¤æ—¶æ‰“å¼€æ¡Œé¢ï¼Œå·²ç»ç”Ÿæˆäº†ä¸€ä¸ªcsvæ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å‘½åæˆäº†â€œtop_cost_effective_models.csvâ€,æ‰“å¼€æ–‡ä»¶ï¼ŒæˆåŠŸå¯¼å‡ºäº†äº”æ¡æ•°æ®ï¼Œå¹¶åœ¨æœ€åä¸€åˆ—ä¸»åŠ¨åŠ å…¥äº†ç†ç”±ã€‚</p><p><img src="/../../resources/ai/mcp_cursor_save1.png" alt="cursor mcp demo"></p><h2 id="ä¸‰ã€ç¦»AGIè¿˜æœ‰å¤šè¿œ"><a href="#ä¸‰ã€ç¦»AGIè¿˜æœ‰å¤šè¿œ" class="headerlink" title="ä¸‰ã€ç¦»AGIè¿˜æœ‰å¤šè¿œ"></a>ä¸‰ã€ç¦»AGIè¿˜æœ‰å¤šè¿œ</h2><p>ç›®å‰MCPè¿˜å¤„äºæ—©æœŸé˜¶æ®µï¼ŒAIçš„è¾¹ç•Œè¿˜æœ‰å¾…è¿›ä¸€æ­¥æ‹“å±•ï¼Œä¸Šè¿°çš„ä¾‹å­ä¹Ÿåªæ˜¯ä¸å¤šï¼ˆç›®å‰å¤§çº¦1500+ï¼‰çš„MCP Serverä¸­çš„ä¸€ç²Ÿï¼Œå…¶ä»–çš„serverè¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æµè§ˆç½‘é¡µã€è¯·æ±‚æ¥å£ã€æ¨¡æ‹Ÿç”¨æˆ·è¡Œä¸ºæµè§ˆæ“ä½œç½‘é¡µã€è¯»å–google driveæ•°æ®ã€æŸ¥æ”¹mysqlç­‰æ•°æ®åº“ã€gitæ“ä½œç­‰ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™äº›serverèµ‹èƒ½å¤§æ¨¡å‹ï¼Œæ‰©å±•å…¶è¾¹ç•Œï¼Œæœªæ¥æˆ·å‘å±•åˆ°å“ªä¸€æ­¥ï¼Œè¿˜æœ‰å¤šä¹…èƒ½è¿ˆå‘AGIï¼Œæˆ‘ä»¬æ‹­ç›®ä»¥å¾…ã€‚</p><p>è¿™ä¸¤å¤©ï¼Œæ‰€è°“é¦–ä¸ªé€šç”¨AI Agent - Manusåˆ·å±ï¼Œè¯•çœ‹äº†ä¸»é¡µçš„å‡ ä¸ªä¾‹å­ï¼Œä¹Ÿéƒ½å¾ˆæµç•…ï¼Œä»æå‡ºéœ€æ±‚ï¼Œåˆ°æ²Ÿé€šã€è®¾è®¡ã€ç¼–å†™ï¼Œåˆ°æœ€åçš„æˆæœï¼Œç¡®å®ä»¤äººç¥å¾€ï¼Œç›¸ä¿¡ä»ŠåAIç¡®å®èƒ½åšåˆ°è¿™ä¸ªç¨‹åº¦ï¼Œéšç€AIæ¨ç†é€»è¾‘èƒ½åŠ›çš„æå‡ï¼Œä»¥ååªä¼šè¶Šæ¥è¶Šé¡ºç•…ã€‚ä½†ç°åœ¨ï¼ŒManusæ˜¯å¦èƒ½ç¨³å®šåšåˆ°æ¼”ç¤ºä¸­çš„é‚£æ ·ï¼Œè¿˜æ˜¯åªæ˜¯ä¸€åœºå¸å¼•çœ¼çƒçš„ç§€ï¼Œä¸å¦¨è®©å­å¼¹é£ä¸€ä¼šã€‚</p><h2 id="å››ã€å‚è€ƒèµ„æ–™"><a href="#å››ã€å‚è€ƒèµ„æ–™" class="headerlink" title="å››ã€å‚è€ƒèµ„æ–™"></a>å››ã€å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://www.anthropic.com/news/model-context-protocol">Introducing the Model Context Protocol:  https://www.anthropic.com/news/model-context-protocol</a></li><li><a href="https://modelcontextprotocol.io/introduction">Model Context Protocol:  https://modelcontextprotocol.io/introduction</a></li><li><a href="https://github.com/modelcontextprotocol/servers">MCP Servers gitä»“åº“:  https://github.com/modelcontextprotocol/servers</a></li><li><a href="https://docs.cursor.com/context/model-context-protocol">cursorç½‘ç«™ä»‹ç»MCP:  https://docs.cursor.com/context/model-context-protocol</a></li><li><a href="https://www.pulsemcp.com/servers">pulse - MCP Serversæ”¶é›†:  https://www.pulsemcp.com/servers</a></li><li><a href="https://www.axtonliu.ai/newsletters/ai-2/posts/claude-mcp-protocol-guide">ä¸€æ–‡è¯¦è§£ Claude å¼€æºé»‘ç§‘æŠ€ MCP ï½œ AI ç²¾è‹±å‘¨åˆŠ 012:  https://www.axtonliu.ai/newsletters/ai-2/posts/claude-mcp-protocol-guide</a></li><li><a href="https://manus.im/">Manuså®˜ç½‘:  https://manus.im/</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>AI</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MCP</tag>
      
      <tag>AI</tag>
      
      <tag>Protocol</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šä¸ªäººåšå®¢éƒ¨ç½²ä»¥åŠåŸŸåé…ç½®ã€‹</title>
    <link href="/2024/02/28/%E5%8D%9A%E5%AE%A2/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E4%BB%A5%E5%8F%8A%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/"/>
    <url>/2024/02/28/%E5%8D%9A%E5%AE%A2/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E4%BB%A5%E5%8F%8A%E5%9F%9F%E5%90%8D%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸ªäººåšå®¢éƒ¨ç½²ä»¥åŠåŸŸåé…ç½®"><a href="#ä¸ªäººåšå®¢éƒ¨ç½²ä»¥åŠåŸŸåé…ç½®" class="headerlink" title="ä¸ªäººåšå®¢éƒ¨ç½²ä»¥åŠåŸŸåé…ç½®"></a>ä¸ªäººåšå®¢éƒ¨ç½²ä»¥åŠåŸŸåé…ç½®</h1><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>åšå®¢æŒºä¹…ä¹‹å‰å°±å¼„äº†ï¼Œä¸è¿‡å†™çš„æ–‡ç« æ¯”è¾ƒå°‘ã€‚æœ€åˆæ˜¯ç”¨çš„github pagesï¼Œgithub pagesçš„è®¿é—®é€Ÿåº¦åœ¨å›½å†…ä¸æ˜¯å¾ˆç†æƒ³ï¼Œæ—¶å¸¸ä¼šå‡ºç°è®¿é—®ä¸äº†çš„æƒ…å†µã€‚åé¢è„‘è¢‹ä¸€æŠ½ï¼Œä¹°äº†ä¸ªåŸŸåï¼Œç„¶åæ¥è§¦åˆ°äº†cloudflareï¼Œå°±æŠŠåŸŸåè§£æåˆ°äº†cloudflareï¼Œä½¿ç”¨cloudflareçš„cdnåŠ é€Ÿï¼Œè®¿é—®é€Ÿåº¦æœ‰äº†ä¸€äº›æå‡ã€‚æ‰¾äº†å‡ ä¸ªæœ‹å‹æµ‹è¯•ï¼Œåé¦ˆç¬¬ä¸€æ¬¡è®¿é—®é€Ÿåº¦è¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œåé¢ä¼šå¥½ä¸€äº›ã€‚<br>æœ€è¿‘åœ¨githubä¸Šçœ‹åˆ°äº†chat-gpt-next-webï¼Œä½¿ç”¨äº†vercelï¼Œæ‰€ä»¥å°±æŠ˜è…¾äº†ä¸‹ï¼Œä¹Ÿç”¨verceléƒ¨ç½²äº†åšå®¢ï¼Œç„¶åé€šè¿‡cloudflareï¼Œç°åœ¨å›½å†…è®¿é—®é€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹åšå®¢çš„éƒ¨ç½²è¿‡ç¨‹ï¼Œä»¥åŠåŸŸåçš„é…ç½®è¿‡ç¨‹ã€‚</p><h2 id="äºŒã€vercel"><a href="#äºŒã€vercel" class="headerlink" title="äºŒã€vercel"></a>äºŒã€vercel</h2><blockquote><p>Vercel is a platform for developers that provides the tools, workflows, and infrastructure you need to build and deploy your web apps faster, without the need for additional configuration.</p></blockquote><blockquote><p>Vercel æ˜¯ä¸€ä¸ªä¸ºå¼€å‘è€…æä¾›å·¥å…·ã€å·¥ä½œæµå’ŒåŸºç¡€è®¾æ–½çš„å¹³å°ï¼Œå¯ä»¥è®©ä½ æ›´å¿«åœ°æ„å»ºå’Œéƒ¨ç½²ä½ çš„ Web åº”ç”¨ï¼Œè€Œæ— éœ€é¢å¤–çš„é…ç½®ã€‚</p></blockquote><p>vercelå®˜ç½‘ï¼š<a href="https://vercel.com/">https://vercel.com/</a>ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨githubè´¦å·ç™»å½•ã€‚</p><h3 id="1-éƒ¨ç½²"><a href="#1-éƒ¨ç½²" class="headerlink" title="1. éƒ¨ç½²"></a>1. éƒ¨ç½²</h3><p>å› ä¸ºä¹‹å‰å·²ç»æœ‰äº†github pagesï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡verceléƒ¨ç½²ã€‚Add New -&gt; Project -&gt; é€‰æ‹©è‡ªå·±çš„git repository -&gt; Import<br>è‡ªåŠ¨è¯†åˆ«å‡ºäº†Hexo, éƒ½é‡‡ç”¨é»˜è®¤é…ç½®ï¼Œç„¶åDeployã€‚ä¸å‡ºæ„å¤–çš„è¯ï¼Œå‡ºäº†æ„å¤–ï¼Œéƒ¨ç½²å¤±è´¥äº†ã€‚æƒ³åˆ°hexo çš„deploy branché»˜è®¤æ˜¯gh-pagesï¼Œverceléƒ¨ç½²äº†masteråˆ†æ”¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹ã€‚åœ¨vercelçš„é¡¹ç›®ä¸­ï¼ŒSettings -&gt; Git -&gt; Production Branch -&gt; gh-pages -&gt; Saveã€‚</p><p><img src="/../../resources/blog/vercel_brach.png" alt="vercel branchè®¾ç½®"></p><p>å›å¤´é‡æ–°éƒ¨ç½²ï¼Œå´å‘ç°éƒ¨ç½²çš„è¿˜æ˜¯masterï¼Œè¿™æ—¶æ³¨æ„åˆ°<code>Production Brach</code>ä¸‹æœ‰ä¸€è¡Œå­—</p><blockquote><p>By default, every commit pushed to the main branch will trigger a Production Deployment instead of the usual Preview Deployment. You can switch to a different branch here.</p></blockquote><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡æ¨é€åˆ°ä¸»åˆ†æ”¯çš„æäº¤éƒ½ä¼šè§¦å‘ç”Ÿäº§éƒ¨ç½²ï¼Œè€Œä¸æ˜¯é€šå¸¸çš„é¢„è§ˆéƒ¨ç½²ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œåˆ‡æ¢åˆ°ä¸åŒçš„åˆ†æ”¯ã€‚</p></blockquote><p>ç”Ÿäº§åˆ†æ”¯çš„éƒ¨ç½²å¯ä»¥é€šè¿‡æ¨é€åˆ°ä¸»åˆ†æ”¯æ¥è§¦å‘ï¼ŒäºŒè¯ä¸è¯´ï¼Œç›´æ¥æ¨é€åˆ°ä¸»åˆ†æ”¯ï¼Œè¿™æ—¶å€™å¤šå‡ºäº†ä¸¤æ¡Deploymentè®°å½•ï¼Œä¸€æ¡æ˜¯Preview Deploymentï¼Œä¸€æ¡æ˜¯Production Deploymentã€‚Production Deploymentå³æ˜¯ä½¿ç”¨äº†gh-pagesåˆ†æ”¯ã€‚</p><p>è¿™æ—¶å€™çš„é”™è¯¯å˜æˆäº†<code>sh: hexo: command not found</code><br>gp-pagesåˆ†æ”¯é€šè¿‡githubçš„actionç”Ÿæˆï¼Œå·²ç»æ™®é€šçš„å‰ç«¯é™æ€èµ„æºäº†ï¼Œæ— éœ€å†ä½¿ç”¨hexoé¢„è®¾æ¡†æ¶ï¼Œä¿®æ”¹Settings -&gt; Build &amp; Development Settings -&gt; Framework Preset ä¸ºOther, é‡æ–°éƒ¨ç½²æˆåŠŸã€‚</p><p><img src="/../../resources/blog/vercel_success.png" alt="æˆåŠŸè®¿é—®"></p><blockquote><p>æ³¨ï¼šæˆ‘ä¸»è¦æ˜¯ä¸ºäº†åŒæ—¶èƒ½ä½¿ç”¨github pageså’Œvercelï¼Œæ‰€ä»¥ä½¿ç”¨äº†gh-pagesï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨vercelï¼Œå®Œå…¨å¯ä»¥æ–°å»ºgithub repositoryï¼Œç›´æ¥ä½¿ç”¨masteråˆ†æ”¯ã€‚</p></blockquote><h3 id="2-ä¼˜åŒ–"><a href="#2-ä¼˜åŒ–" class="headerlink" title="2. ä¼˜åŒ–"></a>2. ä¼˜åŒ–</h3><h4 id="a-åŸŸåé…ç½®"><a href="#a-åŸŸåé…ç½®" class="headerlink" title="a. åŸŸåé…ç½®"></a>a. åŸŸåé…ç½®</h4><p>verceléƒ¨ç½²æˆåŠŸåï¼Œä¼šæœ‰ä¸€ä¸ªç½‘å€ï¼Œï¼ˆä¸­å›½å¤§é™†åœ°åŒºç”¨æˆ·ï¼‰ç›´æ¥è®¿é—®è¿™ä¸ªåœ°å€çš„è¯ï¼Œä¼šå‘ç°è®¿é—®ä¸é€šçš„æƒ…å†µï¼Œè¿™æ˜¯å› ä¸ºverceléƒ¨ç½²çš„æœåŠ¡éƒ½è¢«dnsæ±¡æŸ“äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç®¡ç†åŸŸåçš„dnsè®°å½•ï¼Œå°†åŸŸåè§£æåˆ°vercelã€‚Settings -&gt; Domains  -&gt; è¾“å…¥åŸŸå -&gt; Add, æˆ‘ä¹‹å‰æ“ä½œè¿‡äº†ï¼Œè¿™é‡Œä½¿ç”¨teståŸŸåã€‚<br><img src="/../../resources/blog/vercel_domain.png" alt="vercelåŸŸåè®¾ç½®"></p><p>æ·»åŠ æˆåŠŸåï¼Œä¼šæœ‰ä¸€ä¸ªCNAMEè®°å½•ï¼Œå°†è¿™ä¸ªè®°å½•æ·»åŠ åˆ°åŸŸåçš„dnsè®°å½•ä¸­ï¼Œè¿™é‡Œä½¿ç”¨cloudflareï¼Œæ·»åŠ CNAMEè®°å½•ï¼ŒContentå¡«å†™<code>cname.vercel-dns.com</code>ï¼Œä¿å­˜åå‘ç°ä»ç„¶æ— æ³•è®¿é—®ï¼Œé‚£çœ‹æ¥<code>cname.vercel-dns.com</code>è¿™ä¸ªåœ°å€ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæœç´¢ç½‘ç»œå‘ç°ï¼Œä¸­å›½å¤§é™†åœ°åŒºç”¨æˆ·å¯ä»¥ä½¿ç”¨<code>cname-china.vercel-dns.com</code>ï¼Œä¿®æ”¹CNAMEè®°å½•ï¼Œä¿å­˜ã€‚<br><img src="/../../resources/blog/cloudflare_cname.png" alt="cloudflare cnameè®¾ç½®"></p><h4 id="b-é‡å®šå‘"><a href="#b-é‡å®šå‘" class="headerlink" title="b. é‡å®šå‘"></a>b. é‡å®šå‘</h4><p>é…ç½®å¥½åï¼Œè®¿é—®æŠ¥äº†é‡å®šå‘æ¬¡æ•°è¿‡å¤šçš„é—®é¢˜ï¼Œè¿™æ˜¯å› ä¸ºcloudflareçš„sslé…ç½®é—®é¢˜ï¼Œéœ€è¦å°†cloudflareçš„sslé…ç½®ä¸º<code>Full</code>æˆ–è€…<code>Full(strict)</code>ï¼Œè¿™é‡Œä½¿ç”¨<code>Full</code>ï¼Œä¿å­˜åï¼Œè®¿é—®æˆåŠŸã€‚<br><img src="/../../resources/blog/cloudflare_ssl.png" alt="cloudflare sslè®¾ç½®"></p><p><img src="/../../resources/blog/blog.png" alt="åšå®¢"></p><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« è®°å½•äº†ä¸‹åšå®¢çš„éƒ¨ç½²è¿‡ç¨‹ï¼Œä»¥åŠåŸŸåçš„é…ç½®è¿‡ç¨‹ï¼Œä¸»è¦æ˜¯ä½¿ç”¨äº†github pagesï¼Œvercelï¼Œcloudflareã€‚æµ‹è¯•äº†ä¸€ä¸‹ï¼Œå›½å†…è®¿é—®é€Ÿåº¦è¿˜æ˜¯å¯ä»¥çš„ï¼Œåç»­æŒç»­è§‚å¯Ÿã€‚</p><p>æ¬¢è¿å¤§å®¶è®¿é—®ï¼š<a href="https://blog.caozeal.cn/">å‚²ç„¶ç»å”³çš„å°æ ˆ</a></p>]]></content>
    
    
    <categories>
      
      <category>åšå®¢</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>LangChainå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <link href="/2023/07/01/LangChain%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2023/07/01/LangChain%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="LangChainå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰"><a href="#LangChainå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰" class="headerlink" title="LangChainå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰"></a>LangChainå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1><blockquote><p>æ–‡ä¸­å¤§éƒ¨åˆ†éƒ½å¯ä»¥åœ¨<a href="https://python.langchain.com/">å®˜æ–¹æ–‡æ¡£</a>ä¸­æ‰¾åˆ°ï¼Œç¤ºä¾‹ä¸ºè‡ªå·±çš„å®è·µï¼Œæœ‰æ¡ä»¶å¯ä»¥ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p></blockquote><h2 id="1-ä»€ä¹ˆæ˜¯LangChain"><a href="#1-ä»€ä¹ˆæ˜¯LangChain" class="headerlink" title="1. ä»€ä¹ˆæ˜¯LangChain"></a>1. ä»€ä¹ˆæ˜¯LangChain</h2><blockquote><p>LangChain is a framework for developing applications powered by language models. We believe that the most powerful and differentiated applications will not only call out to a language model via an api, but will also:</p><ol><li>Be data-aware: connect a language model to other sources of data</li><li>Be agentic: Allow a language model to interact with its environment</li></ol></blockquote><blockquote><p>LangChainæ˜¯ä¸€ä¸ªç”¨äºå¼€å‘ç”±è¯­è¨€æ¨¡å‹é©±åŠ¨çš„åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼Œæœ€å¼ºå¤§å’Œæœ‰å·®å¼‚åŒ–çš„åº”ç”¨ç¨‹åºä¸ä»…ä¼šé€šè¿‡APIè°ƒç”¨è¯­è¨€æ¨¡å‹ï¼Œè¿˜ä¼šå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li>æ•°æ®æ„ŸçŸ¥ï¼šå°†è¯­è¨€æ¨¡å‹è¿æ¥åˆ°å…¶ä»–æ•°æ®æºã€‚</li><li>æ™ºèƒ½ä»£ç†ï¼šå…è®¸è¯­è¨€æ¨¡å‹ä¸å…¶ç¯å¢ƒè¿›è¡Œäº¤äº’ã€‚</li></ol></blockquote><p>éšç€chatgptçš„ç«çˆ†ï¼Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æ­£åœ¨æˆä¸ºä¸€ç§å…·æœ‰å˜é©æ€§çš„æŠ€æœ¯ï¼Œå›´ç»•å¤§è¯­è¨€æ¨¡å‹çš„è¾…åŠ©å¼€å‘æ¡†æ¶LangChainä¹Ÿé—®ä¸–äº†ï¼Œå®ƒä¸ä»…å¯ä»¥ä½¿æˆ‘ä»¬æ›´æ–¹ä¾¿çš„è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹çš„apiï¼Œä¹Ÿå¯ä»¥ä½¿å…¶ä¸å…¶ä»–çš„èµ„æºï¼ˆæ•°æ®æº&#x2F;shell&#x2F;apiï¼‰è¿›è¡Œäº¤äº’ï¼Œå……åˆ†å‘æŒ¥å¤§è¯­è¨€æ¨¡å‹çš„èƒ½åŠ›ã€‚</p><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><p>LangChainæœ‰å…­ä¸ªæ¨¡å—ï¼š</p><ol><li>Model I&#x2F;O(IOæ¨¡å‹)ï¼šæä¾›ä¸å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œäº¤äº’çš„æ¥å£<br><img src="/../resources/langchain_iomodel.jpg" alt="Model_IO"></li><li>Data Connection(æ•°æ®è¿æ¥)ï¼šæä¾›ç‰¹å®šäºåº”ç”¨æ•°æ®çš„æ¥å£<br><img src="/../resources/langchain_dataconnection.jpg" alt="Data_Connection"></li><li>Chainsï¼šé€šç”¨è§£é‡Šä¸ºå¯¹ç»„ä»¶çš„è°ƒç”¨åºåˆ—ï¼Œå¯ä»¥å°†å¤šä¸ªè°ƒç”¨é“¾æ¥èµ·æ¥</li><li>Memory(è®°å¿†æ¨¡å—)ï¼š ç”¨äºä¿ç•™ä¸€ä¸ªchainä¸­åº”ç”¨ç¨‹åºçš„çŠ¶æ€</li><li>Agents(ä»£ç†æ¨¡å—)ï¼šæä¾›å…¶ä»–å·¥å…·çš„ä»£ç†ï¼Œä½¿å¾—chainå¯ä»¥å†³å®šå¹¶ä½¿ç”¨æŸäº›å·¥å…·ï¼Œæ¯”å¦‚æ‰§è¡Œshellå‘½ä»¤ï¼Œè°ƒç”¨google apiè¿›è¡Œæœç´¢ç­‰</li><li>Callbacks(å›è°ƒæ¨¡å—)ï¼šç”¨äºæ—¥å¿—è®°å½•ã€ç›‘æ§ã€æµå¼ä¼ è¾“ç­‰</li></ol><h2 id="2-æ„å»ºåº”ç”¨"><a href="#2-æ„å»ºåº”ç”¨" class="headerlink" title="2. æ„å»ºåº”ç”¨"></a>2. æ„å»ºåº”ç”¨</h2><h3 id="2-1-å®‰è£…"><a href="#2-1-å®‰è£…" class="headerlink" title="2.1 å®‰è£…"></a>2.1 å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install langchain  <span class="hljs-comment">#å®‰è£…langchain</span><br>pip intstall openai    <span class="hljs-comment">#å®‰è£…openai</span><br></code></pre></td></tr></table></figure><ul><li>è®¾ç½®<code>OPENAI_API_KEY</code>ç¯å¢ƒå˜é‡</li></ul><h3 id="2-2-é€šè¿‡å¤§è¯­è¨€æ¨¡å‹è·å–é¢„æµ‹"><a href="#2-2-é€šè¿‡å¤§è¯­è¨€æ¨¡å‹è·å–é¢„æµ‹" class="headerlink" title="2.2 é€šè¿‡å¤§è¯­è¨€æ¨¡å‹è·å–é¢„æµ‹"></a>2.2 é€šè¿‡å¤§è¯­è¨€æ¨¡å‹è·å–é¢„æµ‹</h3><p>å¯¹å¤§è¯­è¨€æ¨¡å‹åŸºç¡€çš„è°ƒç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.llms <span class="hljs-keyword">import</span> OpenAI<br><br><span class="hljs-comment"># temperature: 0.0-2.0, è¶Šå¤§è¶Šéšæœºï¼›modelï¼šé»˜è®¤ä½¿ç”¨text-davinci-003</span><br>llm = OpenAI(temperature=<span class="hljs-number">0.9</span>, client=<span class="hljs-string">&quot;llms&quot;</span>, model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>)<br><br><span class="hljs-built_in">print</span>(llm.predict(<span class="hljs-string">&quot;åˆ—ä¸¾ä¸‰ç§æ°´æœ&quot;</span>))<br><span class="hljs-comment">#ä¹Ÿå¯ä»¥å†™ä½œ</span><br><span class="hljs-built_in">print</span>(llm(<span class="hljs-string">&quot;åˆ—ä¸¾ä¸‰ç§æ°´æœ&quot;</span>))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">è‹¹æœã€æ¢¨ã€æ©˜å­<br></code></pre></td></tr></table></figure><h3 id="2-3-å¯¹å¯¹è¯æ¨¡å‹çš„è°ƒç”¨"><a href="#2-3-å¯¹å¯¹è¯æ¨¡å‹çš„è°ƒç”¨" class="headerlink" title="2.3 å¯¹å¯¹è¯æ¨¡å‹çš„è°ƒç”¨"></a>2.3 å¯¹å¯¹è¯æ¨¡å‹çš„è°ƒç”¨</h3><p>èŠå¤©æ¨¡å‹æ˜¯å¤§è¯­è¨€æ¨¡å‹çš„å˜ä½“ã€‚ä¸å¤§è¯­è¨€æ¨¡å‹ä¸åŒçš„æ˜¯ï¼Œå¤§è¯­è¨€æ¨¡å‹ä»¥æ–‡æœ¬è¿›è¡Œäº¤äº’ï¼ŒèŠå¤©æ¨¡å‹å¯ä»¥ä½¿ç”¨<code>AIMessage</code>,<code>HumanMessage</code>,<code>SystemMessage</code>è¿›è¡Œäº¤äº’ï¼Œåˆ†åˆ«å¯¹åº”openaiä¸­çš„<code>system</code>,<code>user</code>,<code>assistant</code>è§’è‰²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.cache <span class="hljs-keyword">import</span> Base<br><span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI<br><span class="hljs-keyword">from</span> langchain.schema <span class="hljs-keyword">import</span> (HumanMessage, SystemMessage)<br><br><span class="hljs-comment"># model é»˜è®¤ä½¿ç”¨gpt-3.5-turbo</span><br>chat = ChatOpenAI(temperature=<span class="hljs-number">0.9</span>, client=<span class="hljs-string">&quot;chat&quot;</span>)<br>result = chat.predict_messages(<br>    [<br>        SystemMessage(content=<span class="hljs-string">&quot;ä»¥ä¸‹æ˜¯AIåŠ©æ‰‹ä¸äººç±»ä¹‹é—´çš„å‹å¥½å¯¹è¯ã€‚&quot;</span>),<br>        HumanMessage(content=<span class="hljs-string">&quot;æŠŠè¿™å¥è¯ç¿»è¯‘ä¸ºè‹±è¯­ï¼šæˆ‘çˆ±ä½ ã€‚&quot;</span>),<br>    ])<br><br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">content=<span class="hljs-string">&#x27;The translation of this sentence to English is: &quot;I love you.&quot;&#x27;</span> additional_kwargs=&#123;&#125; example=False<br></code></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä»¥æ–‡æœ¬è¿›è¡Œäº¤äº’</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(chat.predict(<span class="hljs-string">&quot;æŠŠè¿™å¥è¯ç¿»è¯‘ä¸ºè‹±è¯­ï¼šæˆ‘çˆ±ä½ ã€‚&quot;</span>))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">I love you.<br></code></pre></td></tr></table></figure><h3 id="2-4-Prompt-templates-æç¤ºæ¨¡æ¿"><a href="#2-4-Prompt-templates-æç¤ºæ¨¡æ¿" class="headerlink" title="2.4 Prompt templates(æç¤ºæ¨¡æ¿)"></a>2.4 Prompt templates(æç¤ºæ¨¡æ¿)</h3><p>ä¾¿äºæ ¹æ®ä¸åŒçš„ä¸Šä¸‹æ–‡æ¥ç”Ÿæˆä¸åŒçš„promptï¼Œåº”ç”¨ç¨‹åºè°ƒç”¨èµ·æ¥æ›´çµæ´»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> (ChatPromptTemplate, SystemMessagePromptTemplate, HumanMessagePromptTemplate)<br><br>system_template = <span class="hljs-string">&quot;ä½ æ˜¯ä¸€ä¸ªç¿»è¯‘åŠ©æ‰‹ï¼Œå¸®åŠ©äººä»¬æŠŠ&#123;æºè¯­è¨€&#125;ç¿»è¯‘ä¸º&#123;ç›®æ ‡è¯­è¨€&#125;&quot;</span><br>system_message_prompt = SystemMessagePromptTemplate.from_template(system_template)<br>human_template = <span class="hljs-string">&quot;&#123;æ–‡æœ¬&#125;&quot;</span><br>human_message_prompt = HumanMessagePromptTemplate.from_template(human_template)<br><br>chat_prompt = ChatPromptTemplate.from_messages([system_message_prompt, human_message_prompt])<br><br><span class="hljs-built_in">format</span> = chat_prompt.format_messages(æºè¯­è¨€=<span class="hljs-string">&quot;æ±‰è¯­&quot;</span>, ç›®æ ‡è¯­è¨€=<span class="hljs-string">&quot;è‹±è¯­&quot;</span>, æ–‡æœ¬=<span class="hljs-string">&quot;æˆ‘çˆ±ä½ &quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">format</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[SystemMessage(content=<span class="hljs-string">&#x27;ä½ æ˜¯ä¸€ä¸ªç¿»è¯‘åŠ©æ‰‹ï¼Œå¸®åŠ©äººä»¬æŠŠæ±‰è¯­ç¿»è¯‘ä¸ºè‹±è¯­&#x27;</span>, additional_kwargs=&#123;&#125;), HumanMessage(content=<span class="hljs-string">&#x27;æˆ‘çˆ±ä½ &#x27;</span>, additional_kwargs=&#123;&#125;, example=False)]<br></code></pre></td></tr></table></figure><p>ç”¨äºåç»­è°ƒç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">chat = ChatOpenAI(temperature=<span class="hljs-number">0.9</span>, client=<span class="hljs-string">&quot;chat&quot;</span>)<br><span class="hljs-built_in">print</span>(chat.predict_messages(<span class="hljs-built_in">format</span>))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">content</span>=<span class="hljs-string">&#x27;I love you.&#x27;</span> additional_kwargs=&#123;&#125; example=<span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><h3 id="2-5-Chains"><a href="#2-5-Chains" class="headerlink" title="2.5 Chains"></a>2.5 Chains</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨chainæ¥ç»„è£…modelå’Œprompt</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åœ¨2.4çš„åŸºç¡€ä¸Šæ·»åŠ </span><br><span class="hljs-keyword">from</span> langchain <span class="hljs-keyword">import</span> LLMChain<br><br>chain = LLMChain(llm=chat, prompt=chat_prompt)<br>result = chain.run(æºè¯­è¨€=<span class="hljs-string">&quot;æ±‰è¯­&quot;</span>, ç›®æ ‡è¯­è¨€=<span class="hljs-string">&quot;è‹±è¯­&quot;</span>, æ–‡æœ¬=<span class="hljs-string">&quot;æˆ‘çˆ±ä½ &quot;</span>)<br><br><span class="hljs-built_in">print</span>(result)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">I love you.<br></code></pre></td></tr></table></figure><h3 id="2-6-Agents"><a href="#2-6-Agents" class="headerlink" title="2.6 Agents"></a>2.6 Agents</h3><p>ä½¿ç”¨ä»£ç†æ¥è°ƒç”¨å·¥å…·ä»¥å®Œæˆæ›´å¤æ‚çš„ä»»åŠ¡ã€‚ä½¿ç”¨ä»£ç†åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ol><li>é€‰æ‹©è¯­è¨€æ¨¡å‹ï¼šLLM&#x2F;Chat Model</li><li>é€‰æ‹©å·¥å…·ï¼šä¾‹å¦‚ï¼ŒGoogle Searchï¼ŒShell, ChatGPT Pluginsç­‰</li><li>æ„å»ºä»£ç†</li></ol><p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨SerpAPIé€šè¿‡è°·æ­Œæœç´¢æŸäº›ä¸œè¥¿å¹¶è¿›è¡Œç®€å•çš„æ•°å­¦è®¡ç®—ï¼š</p><ul><li>å®‰è£…åŒ…ï¼š<code>pip install google-search-results</code></li><li>è®¾ç½®ç¯å¢ƒå˜é‡ï¼š<code>SERPAPI_API_KEY</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> AgentType, initialize_agent, load_tools<br><span class="hljs-keyword">from</span> langchain.llms <span class="hljs-keyword">import</span> OpenAI<br><br>llm = OpenAI(temperature=<span class="hljs-number">0</span>, client=<span class="hljs-string">&quot;agent&quot;</span>, model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>)<br><br><span class="hljs-comment"># serpapi: å¯ä»¥ç”¨æ¥è°ƒç”¨googleçš„apiï¼Œllm-mathï¼šè¿›è¡Œæ•°å­¦è®¡ç®—</span><br>tools = load_tools([<span class="hljs-string">&quot;serpapi&quot;</span>, <span class="hljs-string">&quot;llm-math&quot;</span>], llm)<br><br><span class="hljs-comment"># AgentType.ZERO_SHOT_REACT_DESCRIPTIONï¼šç›´è¯‘å°±æ˜¯é›¶æ ·æœ¬_ååº”_æè¿°ï¼Œä»…é€šè¿‡æè¿°æ¥ç¡®å®šä½¿ç”¨å“ªä¸ªå·¥å…·</span><br><span class="hljs-comment"># verbose=Trueï¼š æ˜¾ç¤ºè¯¦ç»†æè¿°ï¼ˆå¯ä»¥ç†è§£ä¸ºAIçš„å¿ƒè·¯å†ç¨‹ï¼‰</span><br>agent = initialize_agent(tools, llm, AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=<span class="hljs-literal">True</span>)<br><br><span class="hljs-built_in">print</span>(agent.run(<span class="hljs-string">&quot;åŒ—äº¬æ˜¨å¤©æœ€é«˜æ°”æ¸©æ˜¯å¤šå°‘æ‘„æ°åº¦ï¼Ÿç„¶åç®—ä¸€ä¸‹è¿™ä¸ªæ•°å­—çš„å¹³æ–¹æ ¹&quot;</span>))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; Entering new  chain...<br> I need to find the temperature first, <span class="hljs-keyword">then</span> calculate the square root<br>Action: Search<br>Action Input: <span class="hljs-string">&quot;Beijing yesterday highest temperature&quot;</span><br>Observation: Beijing Temperature Yesterday. Maximum temperature yesterday: 102 Â°F (at 5:00 pm) Minimum temperature yesterday: 72 Â°F (at 5:00 am) Average temperature ...<br>Thought: I need to convert the temperature to Celsius<br>Action: Calculator<br>Action Input: 102 Fahrenheit to Celsius<br>Observation: Answer: 38.888888888888886<br>Thought: I now need to calculate the square root<br>Action: Calculator<br>Action Input: 38.888888888888886^(1/2)<br>Observation: Answer: 6.236095644623235<br>Thought: I now know the final answer<br>Final Answer: The highest temperature <span class="hljs-keyword">in</span> Beijing yesterday was 38.888888888888886Â°C and the square root of this number is 6.236095644623235.<br><br>&gt; Finished chain.<br>The highest temperature <span class="hljs-keyword">in</span> Beijing yesterday was 38.888888888888886Â°C and the square root of this number is 6.236095644623235.<br></code></pre></td></tr></table></figure><p>åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œä½†å®é™…ä½“éªŒä¸‹æ¥ä¸æ˜¯ç‰¹åˆ«ç¾å¥½ï¼Œä¸€æ˜¯ä¸ç¨³å®šï¼Œç»å¸¸éœ€è¦æŸ¥è¯¢å¾ˆå¤šæ¬¡æ‰èƒ½å¾—åˆ°ç»“æœï¼ŒäºŒæ˜¯æè¿°ç¨å¾®æ¨¡ç³Šæˆ–è€…å¤æ‚ä¸€ç‚¹ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½å°±æ˜¯é”™è¯¯çš„ï¼Œæˆ–è€…æ²¡æ³•å¸¦å…¥åˆ°ä¸‹ä¸€æ­¥ï¼Œç›´æ¥æŠ¥é”™ <del>æ‘†çƒ‚</del>ã€‚<br>serpapiæ³¨å†Œç”¨æˆ·æ¯æœˆæœ‰100æ¬¡å…è´¹çš„è°·æ­Œè°ƒç”¨ï¼Œç»ä¸èµ·æŠ˜è…¾ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æ¥å°è¯•ä¸‹å…è´¹çš„duckduckgo search <del>(é¸­é¸­ç‹—ï¼‰</del>)</p><ul><li>å®‰è£…<code>pip install duckduckgo-search</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.llms <span class="hljs-keyword">import</span> OpenAI<br><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType, load_tools<br><br>llm = OpenAI(temperature=<span class="hljs-number">0</span>, client=<span class="hljs-string">&quot;agent&quot;</span>, model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>)<br>tools = load_tools([<span class="hljs-string">&quot;ddg-search&quot;</span>, <span class="hljs-string">&quot;llm-math&quot;</span>], llm)<br>agent = initialize_agent(tools, llm, AgentType.ZERO_SHOT_REACT_DESCRIPTION, verbose=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(agent.run(<span class="hljs-string">&quot;åŒ—äº¬æ˜¨å¤©æœ€é«˜æ°”æ¸©æ˜¯å¤šå°‘æ‘„æ°åº¦ï¼Ÿç„¶åç®—ä¸€ä¸‹è¿™ä¸ªæ•°å­—çš„å¹³æ–¹æ ¹&quot;</span>))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt; Entering new  chain...<br> I need to find the highest temperature <span class="hljs-keyword">in</span> Beijing yesterday and <span class="hljs-keyword">then</span> calculate the square root of that number<br>Action: duckduckgo_search<br>Action Input: <span class="hljs-string">&quot;Beijing highest temperature yesterday&quot;</span><br>Observation: By Reuters BEIJING, June 22 â€” The temperature <span class="hljs-keyword">in</span> Beijing breached 106 degrees Fahrenheit on Thursday and shattered the record <span class="hljs-keyword">for</span> the hottest day <span class="hljs-keyword">in</span> June as heatwaves that had seared nort<br>hern... On Friday, Beijing baked <span class="hljs-keyword">in</span> temperatures as high as 40.3C, after sizzling at 41.1C on Thursday, the second-hottest day recorded by the Chinese capital <span class="hljs-keyword">in</span> modern <span class="hljs-built_in">times</span>. Beijing<span class="hljs-string">&#x27;s all-time high of ... The city experienced its all-time recorded high of 41.9 C (107 F) on July 24, 1999. Chinese meteorologists say the current heat wave was caused by warm air masses associated with high-pressure ridges in the atmosphere, </span><br><span class="hljs-string">compounded by thin cloud covers and long daylight hours around the summer solstice. Last week, Beijing recorded its highest temperature for mid-June, with weather officials warning the public to stay indoors as the mercury hit 39.4C. With Agence France-Presse and Reuters... Beijing recorded a high temperature of 41.1 C yesterday (Jun 23) as the capital city continues to experience an ongoing heatwave, according to a report from Beijing News (æ–°äº¬æŠ¥). This isn&#x27;</span>t the first <span class="hljs-keyword">time</span> the city has seen the heat cranked up to over 41 C, but the first <span class="hljs-keyword">time</span> it<span class="hljs-string">&#x27;s happened in June.</span><br><span class="hljs-string">Thought: I now have the highest temperature in Beijing yesterday</span><br><span class="hljs-string">Action: Calculator</span><br><span class="hljs-string">Action Input: 41.1</span><br><span class="hljs-string">Observation: Answer: 41.1</span><br><span class="hljs-string">Thought: I now know the final answer</span><br><span class="hljs-string">Final Answer: The highest temperature in Beijing yesterday was 41.1Â°C and its square root is 6.4.</span><br></code></pre></td></tr></table></figure><p>ä¸€æ¬¡æŸ¥è¯¢ä¾¿å¾—åˆ°äº†ç»“æœï¼Œæ•ˆæœä¼¼ä¹æ›´å¥½ï¼Œä¸è¿‡æ—¥æœŸé”™äº†ï¼Œå¹¶ä¸æ˜¯æ˜¨å¤©ğŸ˜­</p><p>ä¹Ÿå¯ä»¥è°ƒç”¨æœ¬åœ°shell:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.llms <span class="hljs-keyword">import</span> OpenAI<br><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType, load_tools<br><br>llm = OpenAI(temperature=<span class="hljs-number">0</span>, client=<span class="hljs-string">&quot;shell&quot;</span>, model=<span class="hljs-string">&quot;text-davinci-003&quot;</span>)<br><br>tools = load_tools([<span class="hljs-string">&quot;terminal&quot;</span>, <span class="hljs-string">&quot;llm-math&quot;</span>], llm)<br>self_ask_with_search = initialize_agent(<br>    tools, llm, agent=AgentType.CHAT_ZERO_SHOT_REACT_DESCRIPTION, verbose=<span class="hljs-literal">True</span><br>)<br>self_ask_with_search.run(<span class="hljs-string">&quot;get the memory info by GB&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="2-7-Memory"><a href="#2-7-Memory" class="headerlink" title="2.7 Memory"></a>2.7 Memory</h3><p>ç»´æŠ¤ç¨‹åºçŠ¶æ€ï¼Œæ‹¥æœ‰ä¸Šä¸‹æ–‡è®°å¿†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> (ChatPromptTemplate, SystemMessagePromptTemplate, HumanMessagePromptTemplate, MessagesPlaceholder)<br><span class="hljs-keyword">from</span> langchain.chains <span class="hljs-keyword">import</span> ConversationChain<br><span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> ChatOpenAI<br><span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationBufferMemory<br><br>prompt = ChatPromptTemplate.from_messages([<br>    SystemMessagePromptTemplate.from_template(<br>        <span class="hljs-string">&quot;ä»¥ä¸‹æ˜¯AIåŠ©æ‰‹ä¸äººç±»ä¹‹é—´çš„å‹å¥½å¯¹è¯ã€‚&quot;</span><br>    ),<br>    MessagesPlaceholder(variable_name=<span class="hljs-string">&quot;history&quot;</span>),<br>    HumanMessagePromptTemplate.from_template(<span class="hljs-string">&quot;&#123;input&#125;&quot;</span>)<br>])<br><br>llm = ChatOpenAI(temperature=<span class="hljs-number">0</span>, client=<span class="hljs-string">&quot;memory&quot;</span>)<br>memory = ConversationBufferMemory(return_messages=<span class="hljs-literal">True</span>)<br>conversation = ConversationChain(memory=memory, prompt=prompt, llm=llm)<br><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    user = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;ç”¨æˆ·: &quot;</span>)<br>    answer = conversation.predict(<span class="hljs-built_in">input</span> = user)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;AIåŠ©æ‰‹ï¼š&quot;</span>, answer)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸AIè¿›è¡Œäº¤äº’ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ç”¨æˆ·: ä½ å¥½<br>AIåŠ©æ‰‹ï¼š ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥éªŒè¯ç¡®å®å­˜åœ¨è®°å¿†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ç”¨æˆ·: æˆ‘è¯´çš„æ˜¯ä¸Šä¸€å¥è¯æ˜¯ä»€ä¹ˆ<br>AIåŠ©æ‰‹ï¼š ä½ è¯´çš„ä¸Šä¸€å¥è¯æ˜¯<span class="hljs-string">&quot;ä½ å¥½&quot;</span>ã€‚<br></code></pre></td></tr></table></figure><h2 id="3-æœ€å"><a href="#3-æœ€å" class="headerlink" title="3. æœ€å"></a>3. æœ€å</h2><p>LangChainçš„å¤§ä½“åŠŸèƒ½å¦‚ä¸Šï¼Œä¸LLMsä¸€æ ·ï¼Œç›®å‰ä¹Ÿåœ¨è“¬å‹ƒå‘å±•é˜¶æ®µï¼Œç”±äºå¤§è¯­è¨€æ¨¡å‹çš„ä¸ç¨³å®šæ€§ï¼Œç°åœ¨ä½¿ç”¨èµ·æ¥è¿˜æœ‰å¾ˆå¤šä¸å°½å¦‚äººæ„çš„åœ°æ–¹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°å…¶æ½œåŠ›å’Œæ„¿æ™¯ã€‚ä¸ªäººè§‰å¾—ï¼Œagentséƒ¨åˆ†æ˜¯æœ€å¸å¼•äººçš„åœ°æ–¹ï¼Œå°†LLMsçš„èƒ½åŠ›ç”±æ–‡æœ¬å»¶ä¼¸åˆ°ç¨‹åºä¹‹å¤–ï¼Œæå¤§åœ°æå‡äº†æƒ³è±¡ç©ºé—´ã€‚<br>æ›´å¤šå†…å®¹å¯ä»¥æŸ¥çœ‹<a href="https://python.langchain.com/">å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><h2 id="é™„ï¼šå‚è€ƒé“¾æ¥-æ–‡æ¡£"><a href="#é™„ï¼šå‚è€ƒé“¾æ¥-æ–‡æ¡£" class="headerlink" title="é™„ï¼šå‚è€ƒé“¾æ¥&amp;æ–‡æ¡£"></a>é™„ï¼šå‚è€ƒé“¾æ¥&amp;æ–‡æ¡£</h2><ol><li><a href="https://python.langchain.com/">å®˜æ–¹æ–‡æ¡£</a></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>OpenAI API æç¤ºè¯å·¥ç¨‹æœ€ä½³å®è·µ</title>
    <link href="/2023/06/22/OpenAI%20API%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"/>
    <url>/2023/06/22/OpenAI%20API%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</url>
    
    <content type="html"><![CDATA[<h1 id="OpenAI-API-æç¤ºè¯å·¥ç¨‹æœ€ä½³å®è·µ"><a href="#OpenAI-API-æç¤ºè¯å·¥ç¨‹æœ€ä½³å®è·µ" class="headerlink" title="OpenAI API æç¤ºè¯å·¥ç¨‹æœ€ä½³å®è·µ"></a>OpenAI API æç¤ºè¯å·¥ç¨‹æœ€ä½³å®è·µ</h1><p>å¦‚ä½•å‘GPT-3å’ŒCodexæä¾›æ¸…æ™°æœ‰æ•ˆçš„æŒ‡ä»¤</p><blockquote><p>ç¿»è¯‘è‡ªOpenAIå®˜æ–¹æ–‡æ¡£ï¼Œ<a href="https://help.openai.com/en/articles/6654000-best-practices-for-prompt-engineering-with-openai-apis">åŸæ–‡é“¾æ¥</a></p></blockquote><h2 id="æç¤ºè¯å·¥ç¨‹çš„å·¥ä½œåŸç†"><a href="#æç¤ºè¯å·¥ç¨‹çš„å·¥ä½œåŸç†" class="headerlink" title="æç¤ºè¯å·¥ç¨‹çš„å·¥ä½œåŸç†"></a>æç¤ºè¯å·¥ç¨‹çš„å·¥ä½œåŸç†</h2><p>ç”±äºæŒ‡ä»¤è·Ÿéšæ¨¡å‹çš„è®­ç»ƒæ–¹å¼æˆ–è®­ç»ƒæ•°æ®çš„åŸå› ï¼Œå­˜åœ¨ä¸€äº›ç‰¹å®šçš„æç¤ºè¯æ ¼å¼ï¼Œè¿™äº›æ ¼å¼åœ¨ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ä¸”æ›´å¥½åœ°ä¸ä»»åŠ¡ç›¸åŒ¹é…ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›æˆ‘ä»¬å‘ç°å¯é æœ‰æ•ˆçš„æç¤ºè¯æ ¼å¼ï¼Œä½†ä½ ä¹Ÿå¯ä»¥è‡ªç”±æ¢ç´¢ä¸åŒçš„æ ¼å¼ï¼Œä»¥æ‰¾åˆ°æœ€é€‚åˆä½ ä»»åŠ¡çš„æ–¹å¼ã€‚</p><h2 id="ç»éªŒæ³•åˆ™å’Œç¤ºä¾‹"><a href="#ç»éªŒæ³•åˆ™å’Œç¤ºä¾‹" class="headerlink" title="ç»éªŒæ³•åˆ™å’Œç¤ºä¾‹"></a>ç»éªŒæ³•åˆ™å’Œç¤ºä¾‹</h2><p>æ³¨æ„ï¼š<code>&#123;åœ¨æ­¤è¾“å…¥æ–‡æœ¬&#125;</code>æ˜¯å®é™…æ–‡æœ¬&#x2F;ä¸Šä¸‹æ–‡çš„å ä½ç¬¦ã€‚</p><h3 id="1-ä½¿ç”¨æœ€æ–°æ¨¡å‹"><a href="#1-ä½¿ç”¨æœ€æ–°æ¨¡å‹" class="headerlink" title="1. ä½¿ç”¨æœ€æ–°æ¨¡å‹"></a>1. ä½¿ç”¨æœ€æ–°æ¨¡å‹</h3><p>ä¸ºäº†è·å¾—æœ€ä½³ç»“æœï¼Œæˆ‘ä»¬é€šå¸¸å»ºè®®ä½¿ç”¨æœ€æ–°ã€åŠŸèƒ½æœ€å¼ºå¤§çš„æ¨¡å‹ã€‚æˆªè‡³2022å¹´11æœˆï¼Œæ–‡æœ¬ç”Ÿæˆçš„æœ€ä½³é€‰æ‹©æ˜¯â€œtext-davinci-003â€æ¨¡å‹ï¼Œä»£ç ç”Ÿæˆçš„æœ€ä½³é€‰æ‹©æ˜¯â€œcode-davinci-002â€æ¨¡å‹ã€‚</p><h3 id="2-å°†æŒ‡ä»¤æ”¾åœ¨æç¤ºè¯çš„å¼€å¤´ï¼Œå¹¶ä½¿ç”¨-æˆ–â€â€â€æ¥åˆ†éš”æŒ‡ä»¤å’Œä¸Šä¸‹æ–‡"><a href="#2-å°†æŒ‡ä»¤æ”¾åœ¨æç¤ºè¯çš„å¼€å¤´ï¼Œå¹¶ä½¿ç”¨-æˆ–â€â€â€æ¥åˆ†éš”æŒ‡ä»¤å’Œä¸Šä¸‹æ–‡" class="headerlink" title="2. å°†æŒ‡ä»¤æ”¾åœ¨æç¤ºè¯çš„å¼€å¤´ï¼Œå¹¶ä½¿ç”¨###æˆ–â€â€â€æ¥åˆ†éš”æŒ‡ä»¤å’Œä¸Šä¸‹æ–‡"></a>2. å°†æŒ‡ä»¤æ”¾åœ¨æç¤ºè¯çš„å¼€å¤´ï¼Œå¹¶ä½¿ç”¨###æˆ–â€â€â€æ¥åˆ†éš”æŒ‡ä»¤å’Œä¸Šä¸‹æ–‡</h3><p>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">å°†ä¸‹é¢çš„æ–‡æœ¬æ€»ç»“ä¸ºæœ€é‡è¦çš„è¦ç‚¹çš„é¡¹ç›®ç¬¦å·åˆ—è¡¨ã€‚</span><br><span class="language-xml"></span><span class="hljs-template-variable">&#123;åœ¨æ­¤è¾“å…¥æ–‡æœ¬&#125;</span><br></code></pre></td></tr></table></figure><p>æ›´å¥½ âœ…ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">å°†ä¸‹é¢çš„æ–‡æœ¬æ€»ç»“ä¸ºæœ€é‡è¦çš„è¦ç‚¹çš„é¡¹ç›®ç¬¦å·åˆ—è¡¨ã€‚<br>æ–‡æœ¬ï¼š<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">&#123;åœ¨æ­¤è¾“å…¥æ–‡æœ¬&#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><span class="hljs-string">&quot;</span><br></code></pre></td></tr></table></figure><h3 id="3-åœ¨æ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€ç»“æœã€é•¿åº¦ã€æ ¼å¼ã€é£æ ¼ç­‰æ–¹é¢è¦å…·ä½“ã€æè¿°è¯¦ç»†"><a href="#3-åœ¨æ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€ç»“æœã€é•¿åº¦ã€æ ¼å¼ã€é£æ ¼ç­‰æ–¹é¢è¦å…·ä½“ã€æè¿°è¯¦ç»†" class="headerlink" title="3. åœ¨æ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€ç»“æœã€é•¿åº¦ã€æ ¼å¼ã€é£æ ¼ç­‰æ–¹é¢è¦å…·ä½“ã€æè¿°è¯¦ç»†"></a>3. åœ¨æ‰€éœ€çš„ä¸Šä¸‹æ–‡ã€ç»“æœã€é•¿åº¦ã€æ ¼å¼ã€é£æ ¼ç­‰æ–¹é¢è¦å…·ä½“ã€æè¿°è¯¦ç»†</h3><p>å¯¹äºä¸Šä¸‹æ–‡ã€ç»“æœã€é•¿åº¦ã€æ ¼å¼ã€é£æ ¼ç­‰è¦å…·ä½“è¯´æ˜<br>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">å†™ä¸€é¦–å…³äºOpenAIçš„è¯—ã€‚<br></code></pre></td></tr></table></figure><p>æ›´å¥½ âœ…ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">å†™ä¸€é¦–ç®€çŸ­çš„é¼“èˆäººå¿ƒçš„è¯—ï¼Œå…³äº<span class="hljs-variable">OpenAI</span>ï¼Œé‡ç‚¹å…³æ³¨æœ€è¿‘<span class="hljs-variable">DALL</span><span class="hljs-operator">-</span><span class="hljs-built_in">E</span>äº§å“çš„å‘å¸ƒï¼ˆ<span class="hljs-variable">DALL</span><span class="hljs-operator">-</span><span class="hljs-built_in">E</span>æ˜¯ä¸€ç§æ–‡æœ¬åˆ°å›¾åƒçš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼‰ï¼Œé‡‡ç”¨<span class="hljs-punctuation">&#123;</span>è‘—åè¯—äºº<span class="hljs-punctuation">&#125;</span>çš„é£æ ¼ã€‚<br></code></pre></td></tr></table></figure><h3 id="4-é€šè¿‡ç¤ºä¾‹æ¥æ˜ç¡®æ‰€éœ€çš„è¾“å‡ºæ ¼å¼ï¼ˆç¤ºä¾‹1ï¼Œç¤ºä¾‹2ï¼‰"><a href="#4-é€šè¿‡ç¤ºä¾‹æ¥æ˜ç¡®æ‰€éœ€çš„è¾“å‡ºæ ¼å¼ï¼ˆç¤ºä¾‹1ï¼Œç¤ºä¾‹2ï¼‰" class="headerlink" title="4. é€šè¿‡ç¤ºä¾‹æ¥æ˜ç¡®æ‰€éœ€çš„è¾“å‡ºæ ¼å¼ï¼ˆç¤ºä¾‹1ï¼Œç¤ºä¾‹2ï¼‰"></a>4. é€šè¿‡ç¤ºä¾‹æ¥æ˜ç¡®æ‰€éœ€çš„è¾“å‡ºæ ¼å¼ï¼ˆç¤ºä¾‹1ï¼Œç¤ºä¾‹2ï¼‰</h3><p>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">ä»ä¸‹é¢çš„æ–‡æœ¬ä¸­æå–å®ä½“ã€‚æå–ä»¥ä¸‹4ç§å®ä½“ç±»å‹ï¼šå…¬å¸åç§°ã€äººåã€å…·ä½“ä¸»é¢˜å’Œä¸»é¢˜ã€‚</span><br><span class="language-xml">æ–‡æœ¬ï¼š</span><span class="hljs-template-variable">&#123;æ–‡æœ¬&#125;</span><br></code></pre></td></tr></table></figure><p>å±•ç¤ºå’Œè¯´æ˜ - å½“æ˜¾ç¤ºç‰¹å®šçš„æ ¼å¼è¦æ±‚æ—¶ï¼Œæ¨¡å‹çš„å“åº”æ›´å¥½ã€‚è¿™ä¹Ÿä½¿å¾—ä»¥å¯é çš„æ–¹å¼ç¨‹åºåŒ–åœ°è§£æå¤šä¸ªè¾“å‡ºæ›´åŠ å®¹æ˜“ã€‚<br>æ›´å¥½ âœ…ï¼š</p><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs gherkin">ä»ä¸‹é¢çš„æ–‡æœ¬ä¸­æå–é‡è¦çš„å®ä½“ã€‚é¦–å…ˆæå–æ‰€æœ‰å…¬å¸åç§°ï¼Œç„¶åæå–æ‰€æœ‰äººåï¼Œç„¶åæå–ç¬¦åˆå†…å®¹çš„å…·ä½“ä¸»é¢˜ï¼Œæœ€åæå–æ€»ä½“ä¸»é¢˜ã€‚<br><br>æœŸæœ›æ ¼å¼ï¼š<br>å…¬å¸åç§°ï¼š <span class="hljs-variable">&lt;ä»¥é€—å·åˆ†éš”çš„å…¬å¸åç§°åˆ—è¡¨&gt;</span><br>äººåï¼š-||<span class="hljs-string">-</span><br><span class="hljs-string">å…·ä½“ä¸»é¢˜ï¼š-</span>||<span class="hljs-string">-</span><br><span class="hljs-string">æ€»ä½“ä¸»é¢˜ï¼š-</span>||<span class="hljs-string">-</span><br><span class="hljs-string"></span><br><span class="hljs-string">æ–‡æœ¬ï¼š&#123;æ–‡æœ¬&#125;</span><br></code></pre></td></tr></table></figure><h3 id="5-é¦–å…ˆå°è¯•é›¶æ ·æœ¬æç¤º-zero-shot-ï¼Œç„¶åè¿›è¡Œå°‘æ ·æœ¬æç¤º-few-shot-ï¼ˆç¤ºä¾‹ï¼‰ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸èµ·ä½œç”¨ï¼Œå†è¿›è¡Œå¾®è°ƒã€‚"><a href="#5-é¦–å…ˆå°è¯•é›¶æ ·æœ¬æç¤º-zero-shot-ï¼Œç„¶åè¿›è¡Œå°‘æ ·æœ¬æç¤º-few-shot-ï¼ˆç¤ºä¾‹ï¼‰ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸èµ·ä½œç”¨ï¼Œå†è¿›è¡Œå¾®è°ƒã€‚" class="headerlink" title="5. é¦–å…ˆå°è¯•é›¶æ ·æœ¬æç¤º(zero-shot)ï¼Œç„¶åè¿›è¡Œå°‘æ ·æœ¬æç¤º(few-shot)ï¼ˆç¤ºä¾‹ï¼‰ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸èµ·ä½œç”¨ï¼Œå†è¿›è¡Œå¾®è°ƒã€‚"></a>5. é¦–å…ˆå°è¯•é›¶æ ·æœ¬æç¤º(zero-shot)ï¼Œç„¶åè¿›è¡Œå°‘æ ·æœ¬æç¤º(few-shot)ï¼ˆç¤ºä¾‹ï¼‰ï¼Œå¦‚æœä¸¤è€…éƒ½ä¸èµ·ä½œç”¨ï¼Œå†è¿›è¡Œå¾®è°ƒã€‚</h3><p>âœ… é›¶æ ·æœ¬æç¤º</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">ä»ä¸‹é¢çš„æ–‡æœ¬ä¸­æå–å…³é”®è¯ã€‚</span><br><span class="language-xml">æ–‡æœ¬ï¼š</span><span class="hljs-template-variable">&#123;æ–‡æœ¬&#125;</span><span class="language-xml"></span><br><span class="language-xml">å…³é”®è¯ï¼š</span><br></code></pre></td></tr></table></figure><p>âœ… å°‘æ ·æœ¬æç¤º - æä¾›ä¸€äº›ç¤ºä¾‹</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">ä»ä»¥ä¸‹å¯¹åº”çš„æ–‡æœ¬ä¸­æå–å…³é”®è¯ã€‚</span><br><span class="language-xml">æ–‡æœ¬ 1ï¼šStripeæä¾›APIï¼Œä¾›Webå¼€å‘äººå‘˜å°†æ”¯ä»˜å¤„ç†é›†æˆåˆ°å…¶ç½‘ç«™å’Œç§»åŠ¨åº”ç”¨ç¨‹åºä¸­ã€‚</span><br><span class="language-xml">å…³é”®è¯ 1ï¼šStripeï¼Œæ”¯ä»˜å¤„ç†ï¼ŒAPIï¼ŒWebå¼€å‘äººå‘˜ï¼Œç½‘ç«™ï¼Œç§»åŠ¨åº”ç”¨ç¨‹åº</span><br><span class="language-xml">æ–‡æœ¬ 2ï¼šOpenAIè®­ç»ƒäº†å…ˆè¿›çš„è¯­è¨€æ¨¡å‹ï¼Œéå¸¸æ“…é•¿ç†è§£å’Œç”Ÿæˆæ–‡æœ¬ã€‚æˆ‘ä»¬çš„APIæä¾›å¯¹è¿™äº›æ¨¡å‹çš„è®¿é—®ï¼Œå¹¶å¯ç”¨äºè§£å†³å‡ ä¹æ¶‰åŠè¯­è¨€å¤„ç†çš„ä»»ä½•ä»»åŠ¡ã€‚</span><br><span class="language-xml">å…³é”®è¯ 2ï¼šOpenAIï¼Œè¯­è¨€æ¨¡å‹ï¼Œæ–‡æœ¬ç”Ÿæˆï¼ŒAPI</span><br><span class="language-xml">æ–‡æœ¬ 3ï¼š</span><span class="hljs-template-variable">&#123;æ–‡æœ¬&#125;</span><span class="language-xml"></span><br><span class="language-xml">å…³é”®è¯ 3ï¼š</span><br></code></pre></td></tr></table></figure><p>âœ… å¾®è°ƒ - å‚è§å¾®è°ƒçš„æœ€ä½³å®è·µï¼Œè¯·ç‚¹å‡»<a href="https://docs.google.com/document/d/1h-GTjNDDKPKU_Rsd0t1lXCAnHltaXTAzQ8K2HRhQf9U/edit#">æ­¤å¤„</a>ã€‚</p><h3 id="6-å‡å°‘â€œçç¢â€å’Œä¸ç²¾ç¡®çš„æè¿°"><a href="#6-å‡å°‘â€œçç¢â€å’Œä¸ç²¾ç¡®çš„æè¿°" class="headerlink" title="6.å‡å°‘â€œçç¢â€å’Œä¸ç²¾ç¡®çš„æè¿°"></a>6.å‡å°‘â€œçç¢â€å’Œä¸ç²¾ç¡®çš„æè¿°</h3><p>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">å¯¹äºæ­¤äº§å“çš„æè¿°åº”è¯¥ç›¸å¯¹ç®€çŸ­ï¼Œåªæœ‰å‡ å¥è¯ï¼Œå¹¶ä¸”ä¸è¦å¤ªå¤šã€‚<br></code></pre></td></tr></table></figure><p>æ›´å¥½ âœ…ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">ä½¿ç”¨3åˆ°5ä¸ªå¥å­çš„æ®µè½æ¥æè¿°è¿™ä¸ªäº§å“ã€‚<br></code></pre></td></tr></table></figure><h3 id="7-ä¸è¦ä»…ä»…è¯´ä¸è¦åšä»€ä¹ˆï¼Œè€Œæ˜¯è¯´æ˜åº”è¯¥åšä»€ä¹ˆã€‚"><a href="#7-ä¸è¦ä»…ä»…è¯´ä¸è¦åšä»€ä¹ˆï¼Œè€Œæ˜¯è¯´æ˜åº”è¯¥åšä»€ä¹ˆã€‚" class="headerlink" title="7.ä¸è¦ä»…ä»…è¯´ä¸è¦åšä»€ä¹ˆï¼Œè€Œæ˜¯è¯´æ˜åº”è¯¥åšä»€ä¹ˆã€‚"></a>7.ä¸è¦ä»…ä»…è¯´ä¸è¦åšä»€ä¹ˆï¼Œè€Œæ˜¯è¯´æ˜åº”è¯¥åšä»€ä¹ˆã€‚</h3><p>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs">ä»¥ä¸‹æ˜¯å®¢æœå’Œå®¢æˆ·ä¹‹é—´çš„å¯¹è¯ã€‚è¯·å‹¿è¯¢é—®ç”¨æˆ·åæˆ–å¯†ç ã€‚è¯·å‹¿é‡å¤ã€‚<br>å®¢æˆ·ï¼šæˆ‘æ— æ³•ç™»å½•æˆ‘çš„è´¦æˆ·ã€‚<br>å®¢æœï¼š<br></code></pre></td></tr></table></figure><p>æ›´å¥½ âœ…ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vim">ä»¥ä¸‹æ˜¯å®¢æœå’Œå®¢æˆ·ä¹‹é—´çš„å¯¹è¯ã€‚å®¢æœå°†å°è¯•è¯Šæ–­é—®é¢˜å¹¶æå‡ºè§£å†³æ–¹æ¡ˆï¼ŒåŒæ—¶é¿å…è¯¢é—®ä¸ä¸ªäººèº«ä»½ä¿¡æ¯ï¼ˆPIIï¼‰ç›¸å…³çš„é—®é¢˜ã€‚è€Œæ˜¯ä»£æ›¿è¯¢é—®ä¸ªäººèº«ä»½ä¿¡æ¯ï¼ˆä¾‹å¦‚ç”¨æˆ·åæˆ–å¯†ç ï¼‰ï¼Œè¯·å¼•å¯¼ç”¨æˆ·å‚è€ƒå¸®åŠ©æ–‡ç« www.samplewebsite.<span class="hljs-keyword">com</span>/<span class="hljs-keyword">help</span>/faqã€‚<br>å®¢æˆ·ï¼šæˆ‘æ— æ³•ç™»å½•æˆ‘çš„è´¦æˆ·ã€‚<br>å®¢æœï¼š<br></code></pre></td></tr></table></figure><h3 id="8-ç‰¹å®šäºä»£ç ç”Ÿæˆ-ä½¿ç”¨â€œå¼•å¯¼è¯â€ï¼ˆleading-wordsï¼‰æ¥å¼•å¯¼æ¨¡å‹æœç‰¹å®šæ¨¡å¼çš„æ–¹å‘å‘å±•"><a href="#8-ç‰¹å®šäºä»£ç ç”Ÿæˆ-ä½¿ç”¨â€œå¼•å¯¼è¯â€ï¼ˆleading-wordsï¼‰æ¥å¼•å¯¼æ¨¡å‹æœç‰¹å®šæ¨¡å¼çš„æ–¹å‘å‘å±•" class="headerlink" title="8.ç‰¹å®šäºä»£ç ç”Ÿæˆ - ä½¿ç”¨â€œå¼•å¯¼è¯â€ï¼ˆleading wordsï¼‰æ¥å¼•å¯¼æ¨¡å‹æœç‰¹å®šæ¨¡å¼çš„æ–¹å‘å‘å±•"></a>8.ç‰¹å®šäºä»£ç ç”Ÿæˆ - ä½¿ç”¨â€œå¼•å¯¼è¯â€ï¼ˆleading wordsï¼‰æ¥å¼•å¯¼æ¨¡å‹æœç‰¹å®šæ¨¡å¼çš„æ–¹å‘å‘å±•</h3><p>æ•ˆæœè¾ƒå·® âŒï¼š</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs 1c"><span class="hljs-meta"># ç¼–å†™ä¸€ä¸ªç®€å•çš„Pythonå‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿï¼š</span><br><span class="hljs-meta"># 1. å‘æˆ‘è¯¢é—®ä¸€ä¸ªè‹±é‡Œæ•°</span><br><span class="hljs-meta"># 2. å°†è‹±é‡Œè½¬æ¢ä¸ºå…¬é‡Œ</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæ·»åŠ â€œimportâ€æç¤ºå¯ä»¥è®©æ¨¡å‹çŸ¥é“å®ƒåº”è¯¥ä»¥Pythonè¯­è¨€å¼€å§‹ç¼–å†™ã€‚ï¼ˆåŒæ ·ï¼Œâ€œSELECTâ€æ˜¯ä¸€ä¸ªè‰¯å¥½çš„æç¤ºï¼Œè¡¨ç¤ºå¼€å§‹ä¸€ä¸ªSQLè¯­å¥ã€‚ï¼‰<br>æ›´å¥½ âœ…ï¼š</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-meta"># ç¼–å†™ä¸€ä¸ªç®€å•çš„Pythonå‡½æ•°ï¼Œå®ƒèƒ½å¤Ÿï¼š</span><br><span class="hljs-meta"># 1. å‘æˆ‘è¯¢é—®ä¸€ä¸ªè‹±é‡Œæ•°</span><br><span class="hljs-meta"># 2. å°†è‹±é‡Œè½¬æ¢ä¸ºå…¬é‡Œ</span><br><br><span class="hljs-keyword">import</span><br></code></pre></td></tr></table></figure><h2 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h2><p>é€šå¸¸ï¼Œæˆ‘ä»¬å‘ç°æ¨¡å‹(model)å’Œæ¸©åº¦(temperature)æ˜¯æœ€å¸¸ç”¨çš„ç”¨äºä¿®æ”¹æ¨¡å‹è¾“å‡ºçš„å‚æ•°ã€‚</p><ol><li>model - æ€§èƒ½æ›´é«˜çš„æ¨¡å‹æ›´æ˜‚è´µä¸”å»¶è¿Ÿæ›´é«˜ã€‚</li><li>temperature - è¡¡é‡æ¨¡å‹è¾“å‡ºè¾ƒä½å¯èƒ½æ€§æ ‡è®°(token)çš„é¢‘ç‡ã€‚temperatureè¶Šé«˜ï¼Œè¾“å‡ºè¶Šéšæœºï¼ˆé€šå¸¸æ›´å…·åˆ›é€ åŠ›ï¼‰ã€‚ç„¶è€Œï¼Œè¿™ä¸â€œçœŸå®æ€§â€ä¸åŒã€‚å¯¹äºå¤§å¤šæ•°äº‹å®ç±»ç”¨ä¾‹ï¼Œä¾‹å¦‚æ•°æ®æå–å’ŒçœŸå®é—®ç­”ï¼Œtemperatureä¸º0æœ€åˆé€‚ã€‚</li><li>max_tokensï¼ˆæœ€å¤§æ ‡è®°é•¿åº¦ï¼‰- ä¸æ§åˆ¶è¾“å‡ºçš„é•¿åº¦ï¼Œè€Œæ˜¯é™åˆ¶ç”Ÿæˆçš„tokenæ•°é‡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨ä¸ä¼šç»å¸¸è¾¾åˆ°æ­¤é™åˆ¶ï¼Œå› ä¸ºæ¨¡å‹ä¼šåœ¨å®ƒè®¤ä¸ºå·²å®Œæˆæ—¶åœæ­¢ï¼Œæˆ–è€…å½“å®ƒé‡åˆ°æ‚¨å®šä¹‰çš„åœæ­¢åºåˆ—æ—¶åœæ­¢ã€‚</li><li>stopï¼ˆåœæ­¢åºåˆ—ï¼‰- ä¸€ç»„å­—ç¬¦ï¼ˆæ ‡è®°ï¼‰ï¼Œç”Ÿæˆè¿™äº›å­—ç¬¦æ—¶ï¼Œæ–‡æœ¬ç”Ÿæˆå°†åœæ­¢ã€‚<br>æœ‰å…³å…¶ä»–å‚æ•°è¯´æ˜ï¼Œè¯·å‚é˜…<a href="https://platform.openai.com/docs/api-reference/completions/create">APIå‚è€ƒ</a>ã€‚</li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ï¼ˆä¸€ï¼‰</title>
    <link href="/2023/03/14/%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <url>/2023/03/14/%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ï¼ˆä¸€ï¼‰"><a href="#ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ï¼ˆä¸€ï¼‰" class="headerlink" title="ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ï¼ˆä¸€ï¼‰"></a>ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ï¼ˆä¸€ï¼‰</h1><p><img src="/../resources/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E5%B0%81%E9%9D%A2.jpg" alt="è¢«è®¨åŒçš„å‹‡æ°”å°é¢"></p><blockquote><p>ä¸–ç•Œæå…¶ç®€å•ï¼Œäººä»¬éšæ—¶éƒ½å¯ä»¥è·å¾—å¹¸ç¦ã€‚</p></blockquote><p>è¿™æœ¬ä¹¦ä»¿ä½›æœ‰ç€é­”åŠ›ä¸€èˆ¬ï¼Œå¸å¼•ç€æˆ‘ä¸åœåœ°è¯»ä¸‹å»ï¼Œä¸€é¡µä¸€é¡µç¿»åˆ°æœ€åï¼Œé•¿å‘¼ä¸€å£æ°”ã€‚æˆ‘ä»¿ä½›ä¹¦ä¸­çš„é’å¹´ä¸€æ ·èŒ«ç„¶ã€å›°æƒ‘ï¼Œâ€œä¸–ç•Œæ˜¯çŸ›ç›¾ä¸›ç”Ÿçš„ä¸€ç‰‡æ··æ²Œâ€ï¼Œè€Œé’å¹´åˆ™è¢«â€œè¯¸å¤šçƒ¦æ¼ç¼ ç»•â€ï¼Œä¸€è·¯èµ°ä¸‹æ¥ï¼Œé˜´éœ¾çš„å¤©ç©ºæ´’ä¸‹ä»¿ä½›æ´’ä¸‹ä¸€ç¼•é˜³å…‰ï¼Œæ¥ä¸‹æ¥æ˜¯å±‚äº‘é‡æ–°è¦†ç›–è¿˜æ˜¯é£èµ·äº‘æ•£ï¼Œè¿˜å¾—çœ‹è‡ªå·±çš„æ€ç´¢å’Œå‹‡æ°”ã€‚</p><p>æœ¬ä¹¦å›´ç»•é’å¹´å’Œå“²äººçš„å¯¹è¯ã€è¾©è®ºå±•å¼€ï¼Œå°†é˜¿å¾·å‹’çš„å¿ƒç†å­¦å¾å¾é“ºå±•åˆ°æˆ‘ä»¬é¢å‰ï¼Œå¯¹è¯ä½“ï¼Œä¸€ä¸‹å­å°±æƒ³åˆ°äº†ã€Šè®ºè¯­ã€‹ã€ã€Šç†æƒ³å›½ã€‹ï¼Œå¾ˆå®¹æ˜“å¸¦å…¥å…¶ä¸­ï¼Œæˆ–æ—è§‚æˆ–å‚ä¸å…¶ä¸­ã€‚â€œé˜¿å¾·å‹’å¿ƒç†å­¦â€è¢«ç§°ä¸ºç°ä»£å¿ƒç†å­¦ã€ä¸ªä½“å¿ƒç†å­¦ï¼Œä¸åŒäºåŸå› è®ºï¼Œâ€œé˜¿å¾·å‹’å¿ƒç†å­¦â€ä¸“æ³¨äºå¯»æ‰¾è§£å†³æ–¹æ¡ˆï¼Œæ›´åƒæ˜¯ä¸€ç§å“²å­¦ï¼Œæä¾›çœ‹å¾…ä¸–ç•Œçš„ä¸€ä¸ªè§†è§’ã€‚â€œåŠ¨æœºåœ¨æ­å·â€å†™çš„æ¨èåºäºŒ ã€Šè‡ªæˆ‘çš„åŠ é”å’Œè§£æ”¾ã€‹æ€»ç»“çš„å¾ˆæ£’ï¼Œæ¢³ç†å‡ºä¸€æ¡çº¿è´¯ç©¿æ•´æœ¬ä¹¦ã€‚</p><p>ä»–è¯´ï¼Œâ€œé˜¿å¾·å‹’æœ€é‡è¦çš„æ€æƒ³ä¸»é¢˜ï¼Œæ˜¯å¯¹è‡ªæˆ‘çš„è§£æ”¾ã€‚é˜¿å¾·å‹’æ•´ä¸ªç†è®ºä½“ç³»ï¼Œéƒ½åœ¨è¯•å›¾æŠŠäººä»è¿™ç§æŸç¼šä¸­è§£è„±å‡ºæ¥ï¼Œè®©äººé‡è·å¿ƒçµè‡ªç”±ã€‚â€</p><p>æˆ‘ä»¬éœ€è¦æŒ£è„±çš„æŸç¼šæœ‰ä¸‰ä¸ªï¼šè¿‡å»ã€äººé™…å…³ç³»ã€æœªæ¥ã€‚</p><p>ç¬¬ä¸€ä¸ªæŸç¼šæ¥è‡ª<strong>è¿‡å»</strong>ã€‚åœ¨å¤šæ•°äººçš„è®¤çŸ¥é‡Œï¼Œè‡ªå·±çš„è¿‡å»å°¤å…¶æ˜¯ç«¥å¹´çš„ç»å†ä¼šå¯¹è‡ªå·±äº§ç”Ÿä¸å¯æ’¼åŠ¨çš„å½±å“ï¼Œâ€œäººâ€æ˜¯è¿‡å»çš„äº§ç‰©ã€‚ä½†é˜¿å¾·å‹’å‘Šè¯‰æˆ‘ä»¬ï¼Œé‡è¦çš„æ˜¯ä¸æ˜¯è¿‡å»ï¼Œè€Œæ˜¯æˆ‘ä»¬æ€ä¹ˆçœ‹å¾…è¿‡å»ï¼Œæˆ‘ä»¬å¯¹è¿‡å»çš„çœ‹æ³•ï¼Œæ˜¯å¯ä»¥æ”¹å˜çš„ã€‚æˆ‘ä»¬å¯¹è¿‡å»çš„è¿‡åº¦ä¾èµ–ï¼Œä½¿æˆ‘ä»¬ä¸‹æ„è¯†é€ƒé¿è´£ä»»ï¼ŒæŠŠä¸€åˆ‡éƒ½æ¨ç»™è¿‡å»ï¼Œè‡ªå·±åˆ™èº²åœ¨è‡ªæ´½çš„å±±æ´é‡Œï¼Œä¸æ„¿å‡ºæ¥ã€‚æˆ‘ä»¬éœ€è¦æŒ£è„±<strong>è¿‡å»</strong>çš„æŸç¼šï¼Œæ‹¿å‡ºæ‰¿æ‹…è´£ä»»çš„å‹‡æ°”å’Œå†³å¿ƒï¼Œè‡ªå·±éšæ—¶éƒ½å¯ä»¥<strong>æ”¹å˜</strong>ã€‚</p><p>ç¬¬äºŒä¸ªæŸç¼šæ¥è‡ª<strong>äººé™…å…³ç³»</strong>ã€‚æˆ‘ä»¬ä¼šè¢«ä»–äººçš„æœŸå¾…å’Œè¯„ä»·æ‰€æŒŸæŒï¼Œä¹Ÿä¼šå¯¹ä»–äººæŠ±æœ‰æœŸå¾…æˆ–è¯„å¤´è®ºè¶³ã€‚é˜¿å¾·å‹’è®¤ä¸ºï¼Œç†æƒ³çš„äººé™…å…³ç³»å¤§æ¦‚æ˜¯â€œæˆ‘çˆ±ä½ ï¼Œä½†ä¸ä½ æ— å…³â€ï¼Œæ¯ä¸ªäººçš„è¯¾é¢˜éƒ½æ˜¯åˆ†ç¦»åˆç‹¬ç‰¹çš„ï¼Œæˆ‘æ€ä¹ˆçˆ±ä½ ï¼Œè¿™æ˜¯æˆ‘çš„è¯¾é¢˜ï¼Œè€Œä½ è¦ä¸è¦æ¥å—ï¼Œè¿™æ˜¯ä½ çš„è¯¾é¢˜ã€‚æ¯ä¸ªäººä¸“æ³¨ä¸è‡ªå·±çš„è¯¾é¢˜ï¼Œè¿‡è‡ªå·±çš„äººç”Ÿï¼Œäººå’Œäººä¹‹é—´å°±æ²¡é‚£ä¹ˆå¤šçº ç»“å’Œçƒ¦æ¼ã€‚è¿™ä¸€ç‚¹ä¹Ÿå‘¼åº”ä¹¦åï¼Œæˆ‘ä»¬æ˜¯å¦æœ‰ç€ä¸å»å¯»æ±‚è®¤å¯ï¼Œä¸æ´»åœ¨ä»–äººæœŸå¾…ï¼Œä¸è‡ªå‘ï¼Œè¿½æ±‚è‡ªç”±çš„å‹‡æ°”ï¼Ÿä¹¦ä¸­ä¼šæœ‰æ›´å¤šçš„è®¨è®ºã€‚</p><p>ç¬¬ä¸‰ä¸ªæŸç¼šæ¥è‡ª<strong>æœªæ¥</strong>ã€‚å½“æˆ‘ä»¬è®¤ä¸ºåªæœ‰æˆåŠŸæ‰æ˜¯äººç”ŸçœŸæ­£å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠç°åœ¨è´¬ä½æˆäº†å®ç°æœªæ¥çš„å·¥å…·ã€‚<strong>â€œå½“ä½ æ€¥ç€å¥”å‘æœªæ¥çš„æ—¶å€™ï¼Œè¯´æ˜ä½ å·²ç»ä¸å–œæ¬¢ç°åœ¨äº†â€</strong>ã€‚ä½†æ­£å¦‚è¿‡å»ä¸ä¼šå†³å®šç°åœ¨ä¸€æ ·ï¼Œç°åœ¨ä¹Ÿä¸åº”è¯¥æˆä¸ºå®ç°æœªæ¥çš„å·¥å…·ã€‚äººç”Ÿæ­£æ˜¯æœ‰ä¸€ä¸ªä¸ªåä¸ºå½“ä¸‹çš„ç‰‡æ®µæ„æˆï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯è®¤çœŸè·³å¥½æ¯ä¸€æ®µå½“ä¸‹çš„èˆè¹ˆã€‚</p><p>å½“æˆ‘ä»¬ä»è¿™äº›æŸç¼šä¸­è§£è„±å‡ºæ¥åï¼Œä¼šå‘ç°æˆ‘ä»¬å…¶å®ä¸€ç›´å¾ˆè‡ªç”±ï¼ŒçœŸæ­£è®©æˆ‘ä»¬è£¹è¶³ä¸å‰çš„ï¼ŒåŸæ¥æ­£æ˜¯æˆ‘ä»¬è‡ªå·±ã€‚æŒ£è„±æŸç¼šéœ€è¦å†³å¿ƒå’Œå‹‡æ°”ï¼Œæ‰¿æ‹…è¿™ç§è‡ªç”±å’Œè´£ä»»ï¼Œæ›´éœ€è¦æ— ç•çš„å‹‡æ°”ã€‚</p><p>å—å…¶é¼“èˆï¼Œæˆ‘åœ¨é˜…è¯»çš„æ—¶å€™ä¹Ÿä¸æ­¢ä¸€æ¬¡çš„ä¸‹å†³å¿ƒè¦æ”¹å˜ï¼Œå»åšäº›ä»€ä¹ˆã€‚ä½†ä¹ æƒ¯æ‹¥æœ‰å¼•åŠ›ï¼Œæ€ æƒ°ç£¨æŸå‹‡æ°”ï¼Œä¸€ä¸ç•™ç¥ï¼Œåˆå·²åœ¨äº†é‡é‡æŸç¼šä¹‹ä¸‹ï¼Œå¼„ä¸å¥½æˆ‘ä¹Ÿä¼šå¦‚ç¬¬äºŒéƒ¨ã€Šå¹¸ç¦çš„å‹‡æ°”ã€‹ä¸­é’å¹´ä¸€å¼€å§‹é‚£æ ·ï¼Œå‘ç°é˜¿å¾·å‹’çš„æ€æƒ³å¹¶æ²¡æœ‰å¦‚é¢„æƒ³é‚£èˆ¬è½»æ˜“æ”¹å˜è‡ªå·±è€Œæ€’æ–¥é˜¿å¾·å‹’æ€æƒ³ä¸ºå¦–è¨€æƒ‘ä¼—ï¼Œä¸€å¢æƒ…æ„¿çš„ç†æƒ³ä¸»ä¹‰ï¼Œæ‰é¡¾ç°å®çš„ä¹¦å±‹ä¸­çš„å“²å­¦ã€‚ä¸€å£æ°”åˆçœ‹å®Œäº†ã€Šå¹¸ç¦çš„å‹‡æ°”ã€‹ï¼Œç»ˆäºé¼“èµ·å‹‡æ°”è¦è®°å½•ç‚¹ä»€ä¹ˆï¼Œæˆ–è®¸æ˜¯è¯»ä¹¦ç¬”è®°ï¼Œæˆ–è®¸æœ‰ç¢ç¢å¿µï¼Œæˆ–è®¸åªæ˜¯å¤§æ®µå¤§æ®µåœ°æ‘˜æŠ„ï¼Œä½†ï¼Œæ”¹å˜å°±ä»ç°åœ¨å¼€å§‹ï¼Œä»€ä¹ˆæ—¶å€™æ”¹å˜éƒ½ä¸æ™šã€‚</p><p><img src="/../resources/%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%941.jpg" alt="è¢«è®¨åŒçš„å‹‡æ°”æ’å›¾"></p>]]></content>
    
    
    
    <tags>
      
      <tag>è¢«è®¨åŒçš„å‹‡æ°”</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>javaæ—¥å¿—ç›¸å…³ä»‹ç»</title>
    <link href="/2023/03/02/java%E6%97%A5%E5%BF%97%E7%9B%B8%E5%85%B3%E4%BB%8B%E7%BB%8D/"/>
    <url>/2023/03/02/java%E6%97%A5%E5%BF%97%E7%9B%B8%E5%85%B3%E4%BB%8B%E7%BB%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="javaæ—¥å¿—ç›¸å…³ä»‹ç»"><a href="#javaæ—¥å¿—ç›¸å…³ä»‹ç»" class="headerlink" title="javaæ—¥å¿—ç›¸å…³ä»‹ç»"></a>javaæ—¥å¿—ç›¸å…³ä»‹ç»</h1><h3 id="ä¸€ã€åˆæœŸæ—¥å¿—è®°å½•"><a href="#ä¸€ã€åˆæœŸæ—¥å¿—è®°å½•" class="headerlink" title="ä¸€ã€åˆæœŸæ—¥å¿—è®°å½•"></a>ä¸€ã€åˆæœŸæ—¥å¿—è®°å½•</h3><p>å›æƒ³ä¸€ä¸‹ï¼Œè‡ªå·±åœ¨åˆšæ¥è§¦javaçš„æ—¶å€™æ˜¯æ€ä¹ˆè®°å½•æ—¥å¿—ä¿¡æ¯çš„ã€‚é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ <code>System.out.println()</code>è¾“å‡ºè°ƒè¯•æ—¥å¿—ä¿¡æ¯ï¼Œä½¿ç”¨ <code>System.err.println()</code>è¾“å‡ºé”™è¯¯æ—¥å¿—ä¿¡æ¯ï¼Œä½¿ç”¨ <code>e.printStackTrace()</code>æ¥è¾“å‡ºå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚</p><p>å®é™…ä¸Šï¼Œåœ¨æ—¥å¿—æ¡†æ¶å‡ºç°ä¹‹å‰ï¼Œå¤§å®¶éƒ½æ˜¯è¿™æ ·ä½¿ç”¨çš„ï¼›è€Œç°åœ¨åˆ™ä¼šè¢«å‰è¾ˆä»¬åƒå®å’›ä¸‡å˜±å’ï¼Œä¸è¦ä½¿ç”¨è¿™äº›æ¥è®°å½•æ—¥å¿—ä¿¡æ¯ã€‚è€Œä¸ºä»€ä¹ˆæœ‰äº†æ—¥å¿—æ¡†æ¶å°±ä¸èƒ½ä½¿ç”¨è¿™äº›åŸå§‹çš„è®°å½•æ–¹å¼äº†ï¼Œå¤§å®¶æœ‰æ²¡æœ‰ä»”ç»†æ€è€ƒè¿‡ï¼Ÿ</p><p>å…¶å®sonarä¸­æœ‰ä¸€æ¡è§„åˆ™å¾ˆè¯¦ç»†åœ°ä¸ºæˆ‘ä»¬è§£é‡Šäº†åŸå› ï¼š</p><blockquote><h3 id="Standard-outputs-should-not-be-used-directly-to-log-anything"><a href="#Standard-outputs-should-not-be-used-directly-to-log-anything" class="headerlink" title="Standard outputs should not be used directly to log anything"></a>Standard outputs should not be used directly to log anything</h3><ul><li>å¼‚å‘³</li><li>ä¸»è¦</li><li>ä¸»è¦ä»£ç </li></ul><p>When logging a message there are several important requirements which must be fulfilled:</p><ul><li>The user must be able to easily retrieve the logs</li><li>The format of all logged message must be uniform to allow the user to easily read the log</li><li>Logged data must actually be recorded</li><li>Sensitive data must only be logged securely</li></ul><p>If a program directly writes to the standard outputs, there is absolutely no way to comply with those requirements. Thatâ€™s why defining and using a dedicated logger is highly recommended.</p></blockquote><p>å³ï¼Œæ ‡å‡†è¾“å‡ºæµå·²ç»æ— æ³•æ»¡è¶³æˆ‘ä»¬å¯¹äºæ—¥å¿—è®°å½•çš„éœ€æ±‚äº†ï¼Œè¿™æ—¶æ—¥å¿—è®°å½•æ¡†æ¶ä¾¿è¯ç”Ÿäº†ã€‚</p><h3 id="äºŒã€æ—¥å¿—æ¡†æ¶æ¼”è¿›æ¦‚è¿°"><a href="#äºŒã€æ—¥å¿—æ¡†æ¶æ¼”è¿›æ¦‚è¿°" class="headerlink" title="äºŒã€æ—¥å¿—æ¡†æ¶æ¼”è¿›æ¦‚è¿°"></a>äºŒã€æ—¥å¿—æ¡†æ¶æ¼”è¿›æ¦‚è¿°</h3><p>é€šå¸¸æˆ‘ä»¬ç›®å‰ä½¿ç”¨çš„æ¡†æ¶æ˜¯slf4jå’Œlogbackç»“åˆçš„æ–¹å¼ï¼Œä½ æ˜¯å¦æœ‰è¿‡ç–‘æƒ‘ï¼Œè®°å½•æ—¥å¿—ä¸ºä»€ä¹ˆè¦æ˜¯ç”¨ä¸¤ä¸ªæ—¥å¿—æ¡†æ¶å‘¢ï¼Œä»–ä»¬çš„èŒè´£åˆåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><h4 id="1-log4j"><a href="#1-log4j" class="headerlink" title="1.log4j"></a>1.log4j</h4><p>æ—©å¹´ï¼Œä½¿ç”¨<strong>log4j</strong>æ¡†æ¶æ¥è®°å½•æ—¥å¿—ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥è¾“å‡ºæ—¥å¿—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.apache.log4j.Logger;<br>\\çœç•¥<br><span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> Logger.getLogger(Test.class);<br>logger.trace(<span class="hljs-string">&quot;trace&quot;</span>);<br>\\çœç•¥<br></code></pre></td></tr></table></figure><h4 id="2-J-U-L"><a href="#2-J-U-L" class="headerlink" title="2. J.U.L"></a>2. J.U.L</h4><p>ä½†æ˜¯åç»­ï¼ŒJDKåŠ å…¥äº†<strong>J.U.L</strong>(java.util.logging)ï¼Œæ¨å‡ºäº†å®˜æ–¹çš„æ—¥å¿—è®°å½•æ¡†æ¶ã€‚è¿™æ˜¯ä¸€éƒ¨åˆ†äººæƒ³è¦æŠŠè‡ªå·±é¡¹ç›®ä¸­çš„æ—¥å¿—è®°å½•æ¡†æ¶æ”¹ä¸ºJ.U.Lï¼Œéœ€è¦æ€ä¹ˆåšå‘¢ï¼Ÿæ‰¾å‡ºæ‰€æœ‰ä½¿ç”¨log4j apiçš„ä»£ç ï¼Œå°†å…¶æ‰‹åŠ¨ä¸€è¡Œä¸€è¡Œæ”¹ä¸ºJ.U.Lçš„apiï¼Œå³</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.logging.Loggerï¼›<br>\\çœç•¥<br><span class="hljs-type">Logger</span> <span class="hljs-variable">loggger</span> <span class="hljs-operator">=</span> Logger.getLogger(Test.class.getName()); <br>logger.finest(<span class="hljs-string">&quot;finest&quot;</span>);<br>\\çœç•¥<br></code></pre></td></tr></table></figure><h3 id="3-J-C-L"><a href="#3-J-C-L" class="headerlink" title="3. J.C.L"></a>3. J.C.L</h3><p>å¯ä»¥çœ‹å‡ºï¼Œåˆ‡æ¢æ—¥å¿—è®°å½•æ¡†æ¶ååˆ†ä¸æ–¹ä¾¿ï¼Œæ—¥åå†å‡ºç°æ›´ä¼˜ç§€çš„æ—¥å¿—è®°å½•æ¡†æ¶è¯¥æ€ä¹ˆåŠå‘¢ã€‚è¿™æ—¶å€™Apacheçš„<strong>JCL</strong>ï¼ˆcommons-loggingï¼‰è¯ç”Ÿäº†ã€‚JCLæ˜¯ä¸€ä¸ªLog Facadeï¼ˆå³æ—¥å¿—é—¨é¢æ¡†æ¶ï¼‰ï¼Œåªæä¾› Log APIï¼Œä¸æä¾›å®ç°ï¼Œç„¶åæœ‰ Adapter æ¥ä½¿ç”¨ Log4j æˆ–è€… JUL ä½œä¸ºLog Implementationã€‚çœŸæ­£å¹²äº‹çš„è¿˜æ˜¯åæ–¹çš„æ—¥å¿—è®°å½•æ¡†æ¶ï¼ˆlog4jã€J.U.Lï¼‰ã€‚ç›®çš„å°±æ˜¯ä¹‹åå†å‡ºç°æ›´ä¼˜ç§€çš„æ—¥å¿—è®°å½•æ¡†æ¶çš„æ—¶å€™ï¼Œå¼€å‘è€…ä¸ç”¨æ”¹ä»£ç ï¼ˆå³ä¸ç”¨åˆ‡æ¢log apiï¼‰ï¼Œåªéœ€æ”¹é…ç½®å°±å¯å¹³æ»‘åˆ‡æ¢åˆ°æ–°çš„æ—¥å¿—è®°å½•æ¡†æ¶ä¸­ã€‚</p><h4 id="4-SLF4J-Logback"><a href="#4-SLF4J-Logback" class="headerlink" title="4. SLF4J  &amp;  Logback"></a>4. SLF4J  &amp;  Logback</h4><p>äº‹æƒ…åˆ°è¿™é‡Œä¼¼ä¹å·²ç»å°˜åŸƒè½å®šäº†ï¼Œå®Œæˆäº†Log Facade + Log ä¸¤å±‚æ¡†æ¶çš„ä½“ç³»ã€‚è¿™å¥—æ¡†æ¶ä¹Ÿå…·å¤‡äº†ä¸Šé¢æ‰€è¯´çš„æ—¥å¿—è®°å½•çš„å››é¡¹èƒ½åŠ›ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬ç›®å‰ä½¿ç”¨çš„æ—¥å¿—é—¨é¢æ¡†æ¶é€šå¸¸æ˜¯SLF4Jï¼Œè€Œä¸æ˜¯æœ€åˆçš„JCLã€‚é‚£SLF4Jæ˜¯å…·å¤‡äº†å“ªäº›æ›´ä¼˜ç§€çš„å“è´¨ï¼Œè€Œè®©æˆ‘ä»¬å»é€‰æ‹©äº†å®ƒå‘¢ï¼Ÿå…¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹æ˜¯SLF4Jä¸­çš„å ä½ç¬¦æ¨¡å¼ï¼Œèƒ½å¤Ÿä¸€å®šç¨‹åº¦ä¸Šå‡å°‘å­—ç¬¦ä¸²æ‹¼æ¥çš„å¼€é”€ã€‚</p><p>JCLæ¨èå†™æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (logger.isDebugEnabled()) &#123;<br>    logger.debug(<span class="hljs-string">&quot;start process request, url:&quot;</span> + url);<br>&#125;<br></code></pre></td></tr></table></figure><p>SLF4Jå†™æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">logger.debug(<span class="hljs-string">&quot;start process request, url:&#123;&#125;&quot;</span>, url);<br></code></pre></td></tr></table></figure><p>logbackåˆ™æ˜¯ç»§æ‰¿è‡ªlog4jï¼Œå¢åŠ äº†å¼‚æ­¥loggerã€filterç­‰ç‰¹æ€§ã€‚</p><h4 id="5-Log4j2"><a href="#5-Log4j2" class="headerlink" title="5. Log4j2"></a>5. Log4j2</h4><p>åŒ…æ‹¬æ—¥å¿—é—¨é¢æ¡†æ¶log4j-apiå’Œæ—¥å¿—è®°å½•æ¡†æ¶log4j-coreï¼Œç”±ç»´æŠ¤log4jçš„äººå¼€å‘è€Œæ¥ï¼Œä¸å…¼å®¹log4j</p><p>ä¸‹é¢æ”¾ä¸¤ä¸ªå„æ¡†æ¶é—´çš„å…³ç³»å›¾æ¥æ„Ÿå—ä¸‹ï¼š</p><p><img src="/../resources/java%E6%97%A5%E5%BF%97/java%E6%97%A5%E5%BF%97.png" alt="img"></p><p><img src="/../resources/java%E6%97%A5%E5%BF%97/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6.webp" alt="img"></p><p>ä¸‹é¢ä»¥SLF4Jå’ŒLogbackä¸ºä¾‹æ¥è®²ä¸€ä¸‹æ—¥å¿—æ¡†æ¶ä½¿ç”¨ï¼š</p><h3 id="ä¸‰ã€Logback"><a href="#ä¸‰ã€Logback" class="headerlink" title="ä¸‰ã€Logback"></a>ä¸‰ã€Logback</h3><blockquote><p>Logback is intended as a successor to the popular log4j project</p></blockquote><p>è¿™é‡Œå°±ä¸ä»å¤´è¯´logbackçš„æ‰€æœ‰é…ç½®äº†ï¼Œlogbackçš„æ ¸å¿ƒé…ç½®éƒ½åœ¨logback.xmlæ–‡ä»¶ä¸­ï¼Œè¿™é‡Œè®²å‡ ä¸ªå¸¸ç”¨çš„é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span> <span class="hljs-attr">debug</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">scan</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">scanPeriod</span>=<span class="hljs-string">&quot;30 seconds&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">statusListener</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.status.NopStatusListener&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;stdout&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">level</span>&gt;</span>$&#123;logback.stdout.level&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">level</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Target</span>&gt;</span>System.out<span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span><br>   %d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;[%-5level][%thread][%logger&#123;20&#125;:%L] %msg%n<br><span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;R&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">File</span>&gt;</span>$&#123;LOG_HOME&#125;/$&#123;SYSTEM_NAME&#125;_stdout_$&#123;ip&#125;_$&#123;port&#125;.log<span class="hljs-tag">&lt;/<span class="hljs-name">File</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span><br>   %d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;[%-5level][%thread][%logger&#123;20&#125;:%L] %msg%n<br><span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>$&#123;LOG_HOME&#125;/$&#123;SYSTEM_NAME&#125;_stdout_$&#123;ip&#125;_$&#123;port&#125;.%d.log<br><span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;org.springframework&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;error&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;org.apache&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;error&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;$&#123;logback.root.level&#125;&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;stdout&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;R&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>é…ç½®æ–‡ä»¶è¯­æ³•:</p><ul><li>ç»“æ„ï¼š<code>&lt;configuration&gt;</code>å…ƒç´ ã€0ä¸ªæˆ–å¤šä¸ª <code>&lt;appender&gt;</code>å…ƒç´ ã€0ä¸ªæˆ–å¤šä¸ª <code>&lt;logger&gt;</code>å…ƒç´ ã€æœ€å¤šä¸€ä¸ª <code>&lt;root&gt;</code>å…ƒç´ </li><li><img src="/../resources/java%E6%97%A5%E5%BF%97/3.image" alt="logbacké…ç½®"></li><li>æ ‡ç­¾åå¤§å°å†™æ•æ„Ÿ</li></ul></li><li><p><code>&lt;configuration&gt;</code>ï¼šlogback å°†å†™å…¥æ—¥å¿—äº‹ä»¶çš„ä»»åŠ¡å§”æ‰˜ç»™ä¸€ä¸ªåä¸º appender çš„ç»„ä»¶ã€‚</p><ul><li><code>debug</code>ï¼šæ§åˆ¶æ˜¯å¦è¾“å‡ºlogbackæœ¬èº«çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯</li><li><img src="/../resources/java%E6%97%A5%E5%BF%97/4.image" alt="logbackçŠ¶æ€ä¿¡æ¯.png"></li><li><code>scan=&quot;true&quot; </code>å½“é…ç½®æ–‡ä»¶æ›´æ”¹æ—¶ï¼Œè‡ªåŠ¨åŠ è½½é…ç½®ï¼Œé»˜è®¤æ‰«æé—´éš”1min</li><li><code>scanPeriod=&quot;30 seconds&quot;</code>æ¯30sè‡ªåŠ¨æ‰«æä¸€æ¬¡é…ç½®çœ‹æ˜¯å¦æœ‰æ›´æ”¹</li></ul></li><li><p><code>&lt;statusListener&gt;</code>ï¼šçŠ¶æ€ä¿¡æ¯ç›‘å¬å™¨</p><ul><li><code>OnConsoleStatusListener</code>ï¼šåŒ <code>debug=true</code>ï¼Œå°†çŠ¶æ€ä¿¡æ¯æ‰“å°åˆ°æ§åˆ¶å°ä¸­</li><li><pre><code class="language-java">protected PrintStream getPrintStream() &#123;    return System.out;&#125;<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">- `NopStatusListener`ï¼šä¸¢å¼ƒæ‰€æœ‰çŠ¶æ€ä¿¡æ¯<br>- ```java<br>  <span class="hljs-built_in">public</span> <span class="hljs-type">void</span> addStatusEvent(Status status) &#123;<br>      // <span class="hljs-keyword">nothing</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">do</span><br>  &#125;<br></code></pre></td></tr></table></figure></code></pre></li><li><code>OnErrorConsoleStatusListener</code>ï¼šåœ¨æ§åˆ¶å°æ‰“å°é”™è¯¯ä¿¡æ¯</li><li><pre><code class="language-java">protected PrintStream getPrintStream() &#123;    return System.err;&#125;<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">- `&lt;appender&gt;`ï¼š<br><br>  - ![appenderSyntax](../resources/javaæ—¥å¿—/<span class="hljs-number">5</span>.image)<br>  - `name`ï¼šappenderçš„åå­—ï¼Œç”¨äºä¸‹æ–‡loggeræˆ–rootå¼•ç”¨<br>  - `class`ï¼šappenderæ‰€é‡‡ç”¨çš„å…·ä½“ç±»<br>    - ![appenderClassDiagram](../resources/javaæ—¥å¿—/<span class="hljs-number">6</span>.image)<br>    - `ch.qos.logback.core.ConsoleAppender`ï¼šå°†æ—¥å¿—äº‹ä»¶é™„åŠ åˆ°æ§åˆ¶å°ï¼Œå°±æ˜¯é€šè¿‡ *System.out* æˆ–è€… *System.err* æ¥è¿›è¡Œè¾“å‡ºã€‚é»˜è®¤é€šè¿‡å‰è€…ã€‚<br>    - `ch.qos.logback.core.rolling.RollingFileAppender`ï¼šå°†æ—¥å¿—äº‹ä»¶è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚é€šè¿‡ `file` æ¥æŒ‡å®šç›®æ ‡æ–‡ä»¶ã€‚åœ¨æ»¡è¶³äº†ç‰¹å®šçš„æ¡ä»¶ä¹‹åï¼Œå°†æ—¥å¿—è¾“å‡ºåˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶ã€‚<br>  - `filter`<br>    - `ch.qos.logback.classic.filter.ThresholdFilter`ï¼šåŸºäºç»™å®šçš„ä¸´ç•Œå€¼æ¥è¿‡æ»¤äº‹ä»¶ã€‚å¦‚æœäº‹ä»¶çš„çº§åˆ«ç­‰äºæˆ–é«˜äºç»™å®šçš„ä¸´ç•Œå€¼ï¼Œå½“è°ƒç”¨ `decide()` æ—¶ï¼Œ`ThresholdFilter` å°†ä¼šè¿”å› `NEUTRAL`ã€‚ä½†æ˜¯äº‹ä»¶çš„çº§åˆ«ä½äºä¸´ç•Œå€¼å°†ä¼šè¢«æ‹’ç»ã€‚<br>    - `ch.qos.logback.classic.filter.LevelFilter`ï¼šäº‹ä»¶çš„çº§åˆ«ä¸é…ç½®çš„çº§åˆ«ç›¸ç­‰ï¼Œä¼šè°ƒç”¨ `onMatch`å±æ€§é…ç½®ï¼Œä¸ç›¸ç­‰ä¼šè°ƒç”¨ `OnMismatch`å±æ€§é…ç½®<br>  - `Target`<br>    - `ConsoleAppender`ä½¿ç”¨ï¼Œè®¾ç½®ä¸º*System.out* æˆ– *System.err*ã€‚é»˜è®¤ä¸º *System.out*<br>  - `encoder`ï¼š`encoder` å°†æ—¥å¿—äº‹ä»¶è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ï¼ŒåŒæ—¶å°†å­—èŠ‚æ•°ç»„å†™å…¥åˆ°ä¸€ä¸ª `OutputStream` ä¸­ã€‚<br>    - `pattern`ï¼š`PatternLayoutEncoder`<br>  - `rollingPolicy`<br>    - `TimeBasedRollingPolicy`ï¼š<br>    - `SizeAndTimeBasedRollingPolicy`ï¼š<br>- `&lt;logger&gt;`ï¼š<br><br>  - `name`<br>  - `level`ï¼šTRACEï¼ŒDEBUGï¼ŒINFOï¼ŒWARNï¼ŒERRORï¼ŒALLï¼ŒOFFï¼ŒINHERITEDï¼ŒNULLã€‚å½“ `level` çš„å€¼ä¸º INHERITED æˆ– NULL æ—¶ï¼Œå°†ä¼šå¼ºåˆ¶ logger ç»§æ‰¿ä¸Šä¸€å±‚çš„çº§åˆ«<br>  - `&lt;appender-ref&gt;`ï¼šä½¿ç”¨çš„appenderï¼Œä¼šç»§æ‰¿ä¸Šä¸€çº§çš„appender<br>- `&lt;root&gt;`ï¼šä¸ `&lt;logger&gt;`ç›¸ä¼¼ï¼Œæ ¹loggerï¼Œä¸èƒ½è®¾ç½®nameã€additivityï¼Œlevelä¸èƒ½è®¾ç½®ä¸ºINHERITEDï¼ŒNULLã€‚<br><br>### å››ã€SLF4J<br><br>- åˆ›å»ºLogger<br>  - `Logger logger = LoggerFactory.getLogger(HelloWorld.class)<span class="hljs-comment">;`</span><br>  - é›†æˆlombokæ’ä»¶ï¼Œå¯ä»¥åœ¨ç±»ä¸Šä½¿ç”¨ `@Slf4j`åˆ›å»º<br>- ä½¿ç”¨<br>  - `logger.info(<span class="hljs-string">&quot;some message&quot;</span>)<span class="hljs-comment">;`</span><br>  - `logger.error(<span class="hljs-string">&quot;some message&quot;</span>, e)`<br>  - å ä½ç¬¦æ¨¡å¼ï¼š`logger.debug(<span class="hljs-string">&quot;some message: &#123;&#125;&quot;</span>, message, e)`<br>  - Fluent Logging APIï¼ˆslf4j-api <span class="hljs-number">2.0</span>.<span class="hljs-number">0</span>ç‰ˆæœ¬ä»¥ä¸Šï¼‰ï¼š<br>    - `logger.atInfo().log(<span class="hljs-string">&quot;some message&quot;</span>)`<br>    - ` logger.atDebug().addArgument(newT).addArgument(oldT).log(<span class="hljs-string">&quot;Temperature set to &#123;&#125;. Old temperature was &#123;&#125;.&quot;</span>)<span class="hljs-comment">;`</span><br>    - `logger.atDebug().addKeyValue(<span class="hljs-string">&quot;oldT&quot;</span>, oldT).addKeyValue(<span class="hljs-string">&quot;newT&quot;</span>, newT).log(<span class="hljs-string">&quot;Temperature changed.&quot;</span>)<span class="hljs-comment">;` == `logger.debug(&quot;oldT=&#123;&#125; newT=&#123;&#125; Temperature changed.&quot;, newT, oldT);`</span><br><br>### äº”ã€æ—¥å¿—è§„çº¦ï¼ˆã€Šé˜¿é‡Œä»£ç è§„çº¦ã€‹ï¼‰<br><br>#### <span class="hljs-number">1</span>.ã€å¼ºåˆ¶ã€‘åº”ç”¨ä¸­ä¸å¯ç›´æ¥ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿï¼ˆLog4jã€Logbackï¼‰ä¸­çš„APIï¼Œè€Œåº”ä¾èµ–ä½¿ç”¨æ—¥å¿—æ¡†æ¶ SLF4Jä¸­çš„APIï¼Œä½¿ç”¨é—¨é¢æ¨¡å¼çš„æ—¥å¿—æ¡†æ¶ï¼Œæœ‰åˆ©äºç»´æŠ¤å’Œå„ä¸ªç±»çš„æ—¥å¿—å¤„ç†æ–¹å¼ç»Ÿä¸€ã€‚<br><br>#### <span class="hljs-number">2</span>.ã€å¼ºåˆ¶ã€‘åœ¨æ—¥å¿—è¾“å‡ºæ—¶ï¼Œå­—ç¬¦ä¸²å˜é‡ä¹‹é—´çš„æ‹¼æ¥ä½¿ç”¨å ä½ç¬¦çš„æ–¹å¼ã€‚<br><br>*è¯´æ˜*ï¼šå› ä¸ºStringå­—ç¬¦ä¸²çš„æ‹¼æ¥ä¼šä½¿ç”¨StringBuilderçš„append()æ–¹å¼ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚ä½¿ç”¨å ä½ç¬¦ä»…æ˜¯æ›¿æ¢åŠ¨ä½œï¼Œå¯ä»¥æœ‰æ•ˆæå‡æ€§èƒ½ã€‚<br><br>*æ­£ä¾‹*ï¼š`logger.debug(<span class="hljs-string">&quot;Processing trade with id: &#123;&#125; and symbol: &#123;&#125;&quot;</span>, id, symbol)<span class="hljs-comment">;`</span><br><br>#### <span class="hljs-number">3</span>.ã€å¼ºåˆ¶ã€‘å¯¹äºtrace/debug/infoçº§åˆ«çš„æ—¥å¿—è¾“å‡ºï¼Œå¿…é¡»è¿›è¡Œæ—¥å¿—çº§åˆ«çš„å¼€å…³åˆ¤æ–­ã€‚<br><br>è¯´æ˜ï¼šè™½ç„¶åœ¨debug(å‚æ•°)çš„æ–¹æ³•ä½“å†…ç¬¬ä¸€è¡Œä»£ç isDisabled(Level.DEBUG_INT)ä¸ºçœŸæ—¶ï¼ˆSlf4jçš„å¸¸è§å®ç°Log4jå’ŒLogbackï¼‰ï¼Œå°±ç›´æ¥<span class="hljs-keyword">return</span>ï¼Œä½†æ˜¯å‚æ•°å¯èƒ½ä¼šè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥è¿ç®—ã€‚æ­¤å¤–ï¼Œå¦‚æœdebug(getName())è¿™ç§å‚æ•°å†…æœ‰getName()æ–¹æ³•è°ƒç”¨ï¼Œæ— è°“æµªè´¹æ–¹æ³•è°ƒç”¨çš„å¼€é”€ã€‚<br><br>&gt; å¦‚æœå‚æ•°å†…æœ‰æ–¹æ³•è°ƒç”¨æˆ–è€…å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œåˆ™å¿…é¡»è¿›è¡Œæ—¥å¿—çº§åˆ«çš„å¼€å…³åˆ¤æ–­ï¼Œå¦åˆ™ä¸éœ€è¦å¼ºæ±‚<br><br>*æ­£ä¾‹*ï¼š<br><br>```java<br>// å¦‚æœåˆ¤æ–­ä¸ºçœŸï¼Œé‚£ä¹ˆå¯ä»¥è¾“å‡ºtraceå’Œdebugçº§åˆ«çš„æ—¥å¿— <br>if (logger.isDebugEnabled()) &#123;<br>    logger.debug(<span class="hljs-string">&quot;Current ID is: &#123;&#125; and name is: &#123;&#125;&quot;</span>, id, getName())<span class="hljs-comment">; </span><br>&#125;<br></code></pre></td></tr></table></figure></code></pre></li></ul></li></ul><h4 id="4-ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­—throwså¾€ä¸ŠæŠ›å‡ºã€‚"><a href="#4-ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­—throwså¾€ä¸ŠæŠ›å‡ºã€‚" class="headerlink" title="4. ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­—throwså¾€ä¸ŠæŠ›å‡ºã€‚"></a>4. ã€å¼ºåˆ¶ã€‘å¼‚å¸¸ä¿¡æ¯åº”è¯¥åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ï¼šæ¡ˆå‘ç°åœºä¿¡æ¯å’Œå¼‚å¸¸å †æ ˆä¿¡æ¯ã€‚å¦‚æœä¸å¤„ç†ï¼Œé‚£ä¹ˆé€šè¿‡å…³é”®å­—throwså¾€ä¸ŠæŠ›å‡ºã€‚</h4><p><em>æ­£ä¾‹</em>ï¼š<code>logger.error(param.toString() + &quot;_&quot; + e.getMessage(), e);</code></p><h4 id="5-ã€æ¨èã€‘è°¨æ…åœ°è®°å½•æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒç¦æ­¢è¾“å‡ºdebugæ—¥å¿—ï¼›æœ‰é€‰æ‹©åœ°è¾“å‡ºinfoæ—¥å¿—ï¼›å¦‚æœä½¿ç”¨warnæ¥è®°å½•åˆšä¸Šçº¿æ—¶çš„ä¸šåŠ¡è¡Œä¸ºä¿¡æ¯ï¼Œä¸€å®šè¦æ³¨æ„æ—¥å¿—è¾“å‡ºé‡çš„é—®é¢˜ï¼Œé¿å…æŠŠæœåŠ¡å™¨ç£ç›˜æ’‘çˆ†ï¼Œå¹¶è®°å¾—åŠæ—¶åˆ é™¤è¿™äº›è§‚å¯Ÿæ—¥å¿—ã€‚"><a href="#5-ã€æ¨èã€‘è°¨æ…åœ°è®°å½•æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒç¦æ­¢è¾“å‡ºdebugæ—¥å¿—ï¼›æœ‰é€‰æ‹©åœ°è¾“å‡ºinfoæ—¥å¿—ï¼›å¦‚æœä½¿ç”¨warnæ¥è®°å½•åˆšä¸Šçº¿æ—¶çš„ä¸šåŠ¡è¡Œä¸ºä¿¡æ¯ï¼Œä¸€å®šè¦æ³¨æ„æ—¥å¿—è¾“å‡ºé‡çš„é—®é¢˜ï¼Œé¿å…æŠŠæœåŠ¡å™¨ç£ç›˜æ’‘çˆ†ï¼Œå¹¶è®°å¾—åŠæ—¶åˆ é™¤è¿™äº›è§‚å¯Ÿæ—¥å¿—ã€‚" class="headerlink" title="5.ã€æ¨èã€‘è°¨æ…åœ°è®°å½•æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒç¦æ­¢è¾“å‡ºdebugæ—¥å¿—ï¼›æœ‰é€‰æ‹©åœ°è¾“å‡ºinfoæ—¥å¿—ï¼›å¦‚æœä½¿ç”¨warnæ¥è®°å½•åˆšä¸Šçº¿æ—¶çš„ä¸šåŠ¡è¡Œä¸ºä¿¡æ¯ï¼Œä¸€å®šè¦æ³¨æ„æ—¥å¿—è¾“å‡ºé‡çš„é—®é¢˜ï¼Œé¿å…æŠŠæœåŠ¡å™¨ç£ç›˜æ’‘çˆ†ï¼Œå¹¶è®°å¾—åŠæ—¶åˆ é™¤è¿™äº›è§‚å¯Ÿæ—¥å¿—ã€‚"></a>5.ã€æ¨èã€‘è°¨æ…åœ°è®°å½•æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒç¦æ­¢è¾“å‡ºdebugæ—¥å¿—ï¼›æœ‰é€‰æ‹©åœ°è¾“å‡ºinfoæ—¥å¿—ï¼›å¦‚æœä½¿ç”¨warnæ¥è®°å½•åˆšä¸Šçº¿æ—¶çš„ä¸šåŠ¡è¡Œä¸ºä¿¡æ¯ï¼Œä¸€å®šè¦æ³¨æ„æ—¥å¿—è¾“å‡ºé‡çš„é—®é¢˜ï¼Œé¿å…æŠŠæœåŠ¡å™¨ç£ç›˜æ’‘çˆ†ï¼Œå¹¶è®°å¾—åŠæ—¶åˆ é™¤è¿™äº›è§‚å¯Ÿæ—¥å¿—ã€‚</h4><p> è¯´æ˜ï¼šå¤§é‡åœ°è¾“å‡ºæ— æ•ˆæ—¥å¿—ï¼Œä¸åˆ©äºç³»ç»Ÿæ€§èƒ½æå‡ï¼Œä¹Ÿä¸åˆ©äºå¿«é€Ÿå®šä½é”™è¯¯ç‚¹ã€‚è®°å½•æ—¥å¿—æ—¶è¯·æ€è€ƒï¼šè¿™äº›æ—¥å¿—çœŸçš„æœ‰äººçœ‹å—ï¼Ÿçœ‹åˆ°è¿™æ¡æ—¥å¿—ä½ èƒ½åšä»€ä¹ˆï¼Ÿèƒ½ä¸èƒ½ç»™é—®é¢˜æ’æŸ¥å¸¦æ¥å¥½å¤„ï¼Ÿ</p><h4 id="6-ã€æ¨èã€‘å¯ä»¥ä½¿ç”¨warnæ—¥å¿—çº§åˆ«æ¥è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä»ã€‚å¦‚éå¿…è¦ï¼Œè¯·ä¸è¦åœ¨æ­¤åœºæ™¯æ‰“å‡ºerrorçº§åˆ«ï¼Œé¿å…é¢‘ç¹æŠ¥è­¦ã€‚"><a href="#6-ã€æ¨èã€‘å¯ä»¥ä½¿ç”¨warnæ—¥å¿—çº§åˆ«æ¥è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä»ã€‚å¦‚éå¿…è¦ï¼Œè¯·ä¸è¦åœ¨æ­¤åœºæ™¯æ‰“å‡ºerrorçº§åˆ«ï¼Œé¿å…é¢‘ç¹æŠ¥è­¦ã€‚" class="headerlink" title="6.ã€æ¨èã€‘å¯ä»¥ä½¿ç”¨warnæ—¥å¿—çº§åˆ«æ¥è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä»ã€‚å¦‚éå¿…è¦ï¼Œè¯·ä¸è¦åœ¨æ­¤åœºæ™¯æ‰“å‡ºerrorçº§åˆ«ï¼Œé¿å…é¢‘ç¹æŠ¥è­¦ã€‚"></a>6.ã€æ¨èã€‘å¯ä»¥ä½¿ç”¨warnæ—¥å¿—çº§åˆ«æ¥è®°å½•ç”¨æˆ·è¾“å…¥å‚æ•°é”™è¯¯çš„æƒ…å†µï¼Œé¿å…ç”¨æˆ·æŠ•è¯‰æ—¶ï¼Œæ— æ‰€é€‚ä»ã€‚å¦‚éå¿…è¦ï¼Œè¯·ä¸è¦åœ¨æ­¤åœºæ™¯æ‰“å‡ºerrorçº§åˆ«ï¼Œé¿å…é¢‘ç¹æŠ¥è­¦ã€‚</h4><p> è¯´æ˜ï¼šæ³¨æ„æ—¥å¿—è¾“å‡ºçš„çº§åˆ«ï¼Œerrorçº§åˆ«åªè®°å½•ç³»ç»Ÿé€»è¾‘å‡ºé”™ã€å¼‚å¸¸æˆ–è€…é‡è¦çš„é”™è¯¯ä¿¡æ¯ã€‚</p><h3 id="å…­ã€åè®°"><a href="#å…­ã€åè®°" class="headerlink" title="å…­ã€åè®°"></a>å…­ã€åè®°</h3><p>è§„åˆ™ç»ˆç©¶æ˜¯æ­»çš„ï¼Œè®°æ—¥å¿—çš„æ—¶å€™éœ€è¦ç»“åˆå…·ä½“åœºæ™¯å¤šåšæ€è€ƒï¼Œåœ¨å“ªé‡Œè®°æ—¥å¿—èƒ½å¸®åŠ©åç»­æ’æŸ¥é—®é¢˜ï¼Ÿå“ªé‡Œçš„æ—¥å¿—åˆæ˜¯é‡å¤è®°å½•ä¹ƒè‡³æ— æ•ˆæ—¥å¿—ï¼Ÿç»“åˆå¼‚å¸¸å¤„ç†æ¥çœ‹ï¼Œå“ªäº›å¼‚å¸¸åº”è¯¥æŠ›ç»™ä¸Šå±‚è°ƒç”¨æ–¹ï¼Œæ ¹æ®ä¸Šå±‚åº”ç”¨ä¸åŒåœºæ™¯é€‰æ‹©ä¸åŒçš„å¤„ç†æ–¹å¼ï¼›å“ªäº›å¼‚å¸¸åº”è¯¥å°±åœ°ç»™è§£å†³äº†ï¼Œå¤„ç†å¼‚å¸¸çš„æ—¶å€™ä¸€å®šè¦è®°å½•ä¸€ä¸‹å¼‚å¸¸ä¿¡æ¯ã€‚</p><h2 id="é™„ï¼šå‚è€ƒé“¾æ¥-æ–‡æ¡£"><a href="#é™„ï¼šå‚è€ƒé“¾æ¥-æ–‡æ¡£" class="headerlink" title="é™„ï¼šå‚è€ƒé“¾æ¥&amp;æ–‡æ¡£"></a>é™„ï¼šå‚è€ƒé“¾æ¥&amp;æ–‡æ¡£</h2><ol><li><a href="http://sonar.thunisoft.com/coding_rules?activation=true&open=java:S106&q=Stand&qprofile=java-aatp-checks-93565">Standard outputs should not be used directly to log anything</a></li><li><a href="https://zhuanlan.zhihu.com/p/24272450">Java æ—¥å¿—æ¡†æ¶è§£æ(ä¸Š) - å†å²æ¼”è¿›</a></li><li><a href="https://mp.weixin.qq.com/s/8VvBdRH_Yc-Dt4HFGbC5rg">æ¶æ„å¸ˆå¿…å¤‡ï¼Œå¸¦ä½ å¼„æ¸…æ··ä¹±çš„JAVAæ—¥å¿—ä½“ç³»ï¼</a></li><li><a href="https://time.geekbang.org/column/article/220307">13 | æ—¥å¿—ï¼šæ—¥å¿—è®°å½•çœŸæ²¡ä½ æƒ³è±¡çš„é‚£ä¹ˆç®€å•</a></li><li><a href="http://www.logback.cn/">logbackä¸­æ–‡æ‰‹å†Œ</a></li><li><a href="http://www.slf4j.org/manual.html">SLF4J user manual</a></li><li>ã€Šé˜¿é‡Œä»£ç è§„çº¦ã€‹</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jenkinsåœ¨Java webé¡¹ç›®CI/CDä¸­çš„ç®€å•åº”ç”¨</title>
    <link href="/2023/03/02/Jenkins%E5%9C%A8JavaWeb%E9%A1%B9%E7%9B%AECICD%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/"/>
    <url>/2023/03/02/Jenkins%E5%9C%A8JavaWeb%E9%A1%B9%E7%9B%AECICD%E4%B8%AD%E7%9A%84%E7%AE%80%E5%8D%95%E5%BA%94%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://mp.weixin.qq.com/s/-bJfhCfjlKZ3gK2uf2w3Ug">å‚²ç„¶ç»å”³çš„å°æ ˆ</a></p></blockquote><h1 id="Jenkins"><a href="#Jenkins" class="headerlink" title="Jenkins"></a>Jenkins</h1><blockquote><p>Jenkins is a self-contained, open source automation server which can be used to automate all sorts of tasks related to building, testing, and delivering or deploying software.</p></blockquote><ul><li>ä¸»è¦ä»‹ç»ä½¿ç”¨Jenkinsæ¥è¾¾åˆ°æŒç»­é›†æˆæŒç»­äº¤ä»˜&#x2F;æŒç»­éƒ¨ç½²ï¼ˆCICDï¼‰çš„ä¸€äº›æ–¹æ¡ˆå’Œé€‰æ‹©ï¼Œä¸æ¶‰åŠJenkinsçš„æ·±å…¥ç ”ç©¶ã€‚</li><li>å®ç°CI&#x2F;CDçš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæœ¬æ–‡ä»‹ç»çš„åªæ˜¯æˆ‘è¿™å‡ å¤©ä¸€äº›ç²—ç•¥çš„æ‘¸ç´¢ï¼Œä»…ä¾›å¤§å®¶å‚è€ƒã€‚</li></ul><h2 id="ä¸€ã€å®‰è£…"><a href="#ä¸€ã€å®‰è£…" class="headerlink" title="ä¸€ã€å®‰è£…"></a>ä¸€ã€å®‰è£…</h2><ul><li>Jenkinsçš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šé€‰æ‹©ï¼Œè¿™é‡Œä¸åšè¯¦ç»†è®¨è®ºï¼Œæˆ‘è¿™æ¬¡é‡‡ç”¨äº†æ¯”è¾ƒç†Ÿæ‚‰çš„éƒ¨ç½²WARåŒ…çš„æ–¹å¼ï¼Œå°†å…¶éƒ¨ç½²åˆ°tomcatä¸Šæ¥è¿è¡Œã€‚<br><img src="/../resources/jenkins/1.image" alt="å›¾ç‰‡"></li><li>éƒ¨ç½²å®Œæˆä¹‹åè®¿é—®ç›¸åº”åœ°å€å³å¯ï¼Œè¿™æ˜¯ä¼šæç¤ºæ–°å»ºç”¨æˆ·ï¼Œå¤§å®¶æŒ‰ç…§æŒ‡å¼•ä¸€æ­¥ä¸€æ­¥å®Œæˆå³å¯ï¼Œä¸åšèµ˜è¿°ã€‚</li></ul><h2 id="äºŒã€æ–°å»ºä»»åŠ¡"><a href="#äºŒã€æ–°å»ºä»»åŠ¡" class="headerlink" title="äºŒã€æ–°å»ºä»»åŠ¡"></a>äºŒã€æ–°å»ºä»»åŠ¡</h2><ul><li><p>Jenkinséƒ¨ç½²å®Œæˆä¹‹åï¼Œæ¥ä¸‹æ¥ä¾¿è¦è¿›å…¥æ­£é¢˜äº†ï¼Œæ–°å»ºä¸€é¡¹ä»»åŠ¡ï¼Œå·²è¾¾åˆ°CICDçš„ç›®çš„ã€‚</p></li><li><p>é¦–é¡µå·¦ä¾§èœå•æŒ‰é€‰æ‹©æ–°å»ºä»»åŠ¡-ã€‹è¾“å…¥ä»»åŠ¡åç§°-ã€‹æ„å»ºä¸€ä¸ªè‡ªç”±é£æ ¼çš„è½¯ä»¶é¡¹ç›®-ã€‹ç¡®å®šï¼ˆè¿™é‡Œæˆ‘å·²ç»åˆ›å»ºè¿‡ä¸€ä¸ªåä¸ºtestçš„é¡¹ç›®äº†ï¼‰<br><img src="/../resources/jenkins/2.image" alt="å›¾ç‰‡"><br><img src="/../resources/jenkins/3.image" alt="å›¾ç‰‡"></p></li><li><p>ç‚¹å‡»ç¡®å®šåè¿›å…¥äº†è¯¥é¡¹ç›®çš„é…ç½®é¡µé¢ï¼Œå…ˆæ€»è§ˆæ‰€æœ‰çš„é…ç½®é¡¹ï¼Œå…±æœ‰å…­é¡¹ï¼šGeneralï¼Œæºç ç®¡ç†ï¼Œæ„å»ºè§¦å‘å™¨ï¼Œæ„å»ºç¯å¢ƒï¼Œæ„å»ºï¼Œæ„å»ºåæ“ä½œ.ä»å­—é¢æ„æ€ä¸Šä¸éš¾ç†è§£ã€‚</p><ul><li>Generalï¼Œä¸€äº›é€šç”¨çš„ä¿¡æ¯ï¼Œæœ¬æ¬¡ä¸åšé‡ç‚¹ï¼›</li><li>æºç ç®¡ç†ï¼Œæ„å»ºçš„æ¥æºï¼Œgitï¼Œsvnï¼Œäº¦æˆ–æ˜¯å…¶ä»–ä¸€äº›æºç ç®¡ç†æœåŠ¡ï¼›</li><li>æ„å»ºè§¦å‘å™¨ï¼Œä»¥ä½•ç§è§„åˆ™è‡ªåŠ¨è§¦å‘æºç çš„æ„å»ºï¼ˆæŒç»­æ„å»ºï¼‰ï¼Œè‹¥è¯¥é¡¹ä¸åšä»»ä½•é…ç½®ï¼Œåˆ™åªèƒ½æ‰‹åŠ¨è§¦å‘ï¼›</li><li>æ„å»ºç¯å¢ƒï¼Œæœ¬æ¬¡ä¹Ÿæœªåšå…³é”®æ€§ä¿®æ”¹ï¼›</li><li>æ„å»ºï¼Œä»¥ä½•ç§æ–¹å¼æ„å»ºï¼Œmavenï¼Œ gradleï¼Œ äº¦æˆ–æ˜¯å…¶ä»–ï¼›</li><li>æ„å»ºåæ“ä½œï¼ŒæˆåŠŸæ„å»ºä¹‹åçš„ä¸€äº›æ“ä½œï¼ŒæŒç»­äº¤ä»˜&#x2F;æŒç»­éƒ¨ç½²çš„æ“ä½œä¸»è¦æ”¾åˆ°è¿™ä¸€å—ã€‚<br><img src="/../resources/jenkins/4.image" alt="å›¾ç‰‡"></li></ul></li></ul><p>æ¥ä¸‹æ¥åˆ†åˆ«è¾ƒå°‘è¿™å‡ é¡¹é…ç½®ï¼Œä»¥åŠç”¨åˆ°çš„æ’ä»¶ï¼Œå·²å®ŒæˆCI&#x2F;CDçš„ç›®æ ‡ã€‚</p><h3 id="1-General"><a href="#1-General" class="headerlink" title="1. General"></a>1. General</h3><ul><li>æœ¬æ¬¡å¹¶æ²¡æœ‰åšä¸€äº›å…³é”®çš„ä¿®æ”¹<br><img src="/../resources/jenkins/5.image" alt="å›¾ç‰‡"></li></ul><h3 id="2-æºç ç®¡ç†"><a href="#2-æºç ç®¡ç†" class="headerlink" title="2. æºç ç®¡ç†"></a>2. æºç ç®¡ç†</h3><ul><li><p>åªè¯´æ˜gitçš„ä¸€äº›ç›¸å…³é…ç½®ï¼Œå…¶ä»–çš„æºç ç®¡ç†æœåŠ¡åŒç†<br><img src="/../resources/jenkins/6.image" alt="å›¾ç‰‡"></p></li><li><p>Repository URLï¼š gitä¸Šçš„æºç åœ°å€</p></li><li><p>Credentialsï¼š ç”¨æˆ·å&#x2F;å¯†ç </p></li><li><p>Branch Specifierï¼šæŒ‡å®šéœ€è¦æ„å»ºçš„åˆ†æ”¯</p></li><li><p>ä¸Šè¾¹è¿™äº›åšå®Œåå…¶å®åŸºæœ¬ä¸Šå·²ç»å¯ä»¥äº†ï¼Œä¹‹æ‰€ä»¥ä¿®æ”¹Advanced clone behaioursï¼Œæ˜¯é˜²æ­¢ç¬¬ä¸€æ¬¡æ„å»ºæ—¶æ‹‰å–æºç è¶…æ—¶ï¼Œé»˜è®¤è¶…æ—¶æ—¶é—´ä¸º10minutesï¼Œå¤šæ¬¡æ„å»ºå¤±è´¥åï¼Œæˆ‘æŠŠæ­¤å¤„ä¿®æ”¹ä¸ºäº†20minutesï¼Œå¦‚æœä¾æ—§è¶…æ—¶ï¼Œå¯å»¶é•¿æ­¤å¤„æ—¶é—´ï¼Œæˆ–æ£€æŸ¥ç½‘ç»œï¼ˆç‚¹å‡»Additional Behavioursæ—è¾¹çš„addï¼Œé€‰æ‹©Advanced clone behaioursï¼‰</p><ul><li>Shallow cloneï¼ŒShallow clone depthï¼šæµ…æ‹·è´ï¼ŒèŠ‚çœæ‹·è´æ—¶é—´å’Œç£ç›˜ç©ºé—´</li></ul></li></ul><h3 id="3-æ„å»ºè§¦å‘å™¨"><a href="#3-æ„å»ºè§¦å‘å™¨" class="headerlink" title="3. æ„å»ºè§¦å‘å™¨"></a>3. æ„å»ºè§¦å‘å™¨</h3><ul><li>å®ç°è§¦å‘æ„å»ºçš„æ–¹å¼ä¸»è¦æœ‰å®šæ—¶è§¦å‘ã€web hookè§¦å‘ï¼Œè¿™äº›è§¦å‘æ–¹å¼å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚</li></ul><h4 id="3-1-å®šæ—¶è§¦å‘"><a href="#3-1-å®šæ—¶è§¦å‘" class="headerlink" title="3.1 å®šæ—¶è§¦å‘"></a>3.1 å®šæ—¶è§¦å‘</h4><ul><li><p>Build periodicallyï¼š å‘¨æœŸæ€§æ„å»º</p></li><li><p>Poll SCMï¼š å‘¨æœŸæ€§æ£€æµ‹ï¼Œè‹¥æºç æœ‰å˜åŒ–åˆ™æ„å»º</p></li><li><p>å›¾ä¸­ä¸ºæ¯å…­å°æ—¶æ£€æµ‹ä¸€æ¬¡</p><ul><li><a href="http://heipark.iteye.com/blog/1736477">ææ¸…æ¥šjenkinsä¸­â€œPoll SCMâ€å’Œâ€œBuild periodicallyâ€çš„å•¥æ„æ€</a><br><img src="/../resources/jenkins/7.image" alt="å›¾ç‰‡"></li></ul></li><li><p>å®šæ—¶æ„å»ºéƒ¨ç½²ï¼Œå¯æ§åˆ¶é¢‘ç‡</p></li></ul><h4 id="3-2-Gitlab-Hookæ’ä»¶"><a href="#3-2-Gitlab-Hookæ’ä»¶" class="headerlink" title="3.2 Gitlab Hookæ’ä»¶"></a>3.2 Gitlab Hookæ’ä»¶</h4><p> ã€€ã€€web hookè§¦å‘ä¸»è¦ä»‹ç»gitlab hookæ’ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å…ˆä¿å­˜å·²ç»å®Œæˆçš„é…ç½®ï¼Œå›åˆ°é¦–é¡µï¼Œä¸‹è½½æ‰€éœ€æ’ä»¶ã€‚<br><img src="/../resources/jenkins/8.image" alt="å›¾ç‰‡"></p><p>ã€€ã€€å¯é€‰æ’ä»¶ä¸­æœç´¢gitlabï¼Œå‹¾é€‰åˆ—è¡¨ä¸­çš„GitLab Pluginå’ŒGitlab Hook Plugin, é€‰æ‹©ç›´æ¥å®‰è£…ã€‚å¾…å®‰è£…å®Œæˆåå›åˆ°é¦–é¡µï¼Œç‚¹å‡»å³è¾¹åˆšåˆšæˆ‘ä»¬åˆ›å»ºçš„ä»»åŠ¡ï¼Œç„¶åç‚¹å‡»é…ç½®å›åˆ°æˆ‘ä»¬ä¹‹å‰çš„é…ç½®é¡µé¢ã€‚<br><img src="/../resources/jenkins/9.image" alt="å›¾ç‰‡"></p><p>ã€€ã€€æ­¤æ—¶å‘ç°æ„å»ºè§¦å‘å™¨ä¸­å¤šäº†ä¸ªé€‰é¡¹ï¼š<code>Build when a change is pushed to GitLab. GitLab CI Service URL: http://172.16.192.142:9081/jenkins/project/test</code>ï¼Œå¦‚æœä»ç„¶æ²¡æœ‰ï¼Œå°è¯•é‡å¯Jenkinsä¹‹åæŸ¥çœ‹ã€‚<br><img src="/../resources/jenkins/10.image" alt="å›¾ç‰‡"></p><p>ã€€ã€€å›¾ä¸­çº¢æ¡†ä¸Šè¾¹ä¸ºGitlab Web Hookå¤„éœ€è¦æ·»åŠ çš„URLï¼Œè‹¥Jenkinsè®¾ç½®äº†ä¸å…è®¸åŒ¿åç”¨æˆ·æ‰§è¡Œæ„å»ºæ“ä½œï¼Œåˆ™éœ€è¦åœ¨Gitlabå®‰å…¨ä»¤ç‰Œå¤„æ·»åŠ ç¬¬äºŒä¸ªçº¢åœˆå¤„çš„Secret tokenã€‚</p><ul><li>Gitlabå¤„éœ€è¦å¢åŠ çš„é…ç½®ï¼ˆè®¾ç½®-ã€‹é›†æˆï¼Œæ³¨æ„ç™»å½•è´¦æˆ·éœ€è¦æœ‰ç›¸åº”æƒé™ï¼‰<br><img src="/../resources/jenkins/11.image" alt="å›¾ç‰‡"></li><li>éšæ—¶æäº¤ï¼Œéšæ—¶æ„å»ºï¼Œå¿«é€Ÿç›¸åº”å¼€å‘äººå‘˜çš„æ“ä½œï¼Œä½†éœ€è¦å¼€å‘äººå‘˜æäº¤ä»£ç çš„æ—¶å€™ç¡®ä¿æäº¤å¯ç”¨ï¼Œå¤šæ¬¡commitä¸€æ¬¡pushï¼Œé™¤éç´§æ€¥éœ€è¦å°½é‡åœ¨åˆä¼‘æ—¶é—´ï¼Œæ—©ä¸Šä¸Šç­å‰ï¼Œæ™šä¸Šä¸‹ç­åpushä»£ç </li><li>å‚è€ƒèµ„æ–™:<a href="https://www.cnblogs.com/kevingrace/p/6479813.html">Gitlabåˆ©ç”¨Webhookå®ç°Pushä»£ç åçš„jenkinsè‡ªåŠ¨æ„å»º</a></li></ul><h3 id="4-æ„å»ºç¯å¢ƒ"><a href="#4-æ„å»ºç¯å¢ƒ" class="headerlink" title="4. æ„å»ºç¯å¢ƒ"></a>4. æ„å»ºç¯å¢ƒ</h3><ul><li>æ²¡æœ‰å…³é”®é…ç½®çš„ä¿®æ”¹ï¼Œå…¶ä¸­Color ANSI Console Outputä¸ºä¸‹è½½çš„æ’ä»¶AnsiColorï¼Œå¯ä»¥ä½¿æ—¥å¿—è¾“å‡ºå¸¦æœ‰é¢œè‰²ï¼Œè¯¦æƒ…å¯æŸ¥çœ‹<a href="https://zhuanlan.zhihu.com/p/22032462?refer=debugtalk">Jenkins çš„è¾“å‡ºæ—¥å¿—ä¹Ÿå¯ä»¥å˜å¾—è‰²è‰²çš„</a></li></ul><h3 id="5-æ„å»º"><a href="#5-æ„å»º" class="headerlink" title="5. æ„å»º"></a>5. æ„å»º</h3><ul><li>æ„å»ºéƒ¨åˆ†ä¸»è¦é‡‡ç”¨äº†mavenæ„å»ºï¼Œç¡®ä¿éƒ¨ç½²Jenkinsçš„æœºå™¨å·²ç»é…ç½®å¥½äº†mavenç¯å¢ƒï¼Œmavençš„é…ç½®ä¸åšèµ˜è¿°ã€‚<br><img src="/../resources/jenkins/12.image" alt="å›¾ç‰‡"></li></ul><h3 id="6-æ„å»ºåæ“ä½œ"><a href="#6-æ„å»ºåæ“ä½œ" class="headerlink" title="6. æ„å»ºåæ“ä½œ"></a>6. æ„å»ºåæ“ä½œ</h3><ul><li>ä½¿ç”¨mavenæ„å»ºæ‰“åŒ…å®Œæˆåï¼Œä¸pom.xmlåŒçº§çš„targetç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªwaråŒ…(å–å†³äºpom.xmlä¸­çš„é…ç½®ï¼Œå¯¹pom.xmlçš„é…ç½®ä¸åšæè¿°)ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯å°†ç”Ÿæˆçš„waråŒ…éƒ¨ç½²åˆ°ä¸­é—´ä»¶æˆ–å®¹å™¨ä¸­ï¼Œä¸‹é¢ä¸»è¦ä»‹ç»ä¸¤ä¸ªæ’ä»¶ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæœ‰é€‰æ‹©çš„ä½¿ç”¨ï¼Œä½¿ç”¨ä¹‹å‰é¦–å…ˆéœ€è¦å‚è€ƒä¹‹å‰ä»‹ç»çš„æ­¥éª¤ä¸‹è½½ç›¸åº”æ’ä»¶ã€‚</li></ul><h4 id="6-1-Deploy-to-Containeræ’ä»¶"><a href="#6-1-Deploy-to-Containeræ’ä»¶" class="headerlink" title="6.1 Deploy to Containeræ’ä»¶"></a>6.1 Deploy to Containeræ’ä»¶</h4><ul><li>è¾¾åˆ°æ•ˆæœï¼šæ„å»ºå‰éœ€ä¿è¯ç›®æ ‡ä¸­é—´ä»¶æ­£å¸¸å¯åŠ¨ï¼Œæ¯æ¬¡Jenkinsæ„å»ºæ—¶ä¼šæŠŠæŒ‡å®šçš„waråŒ…è‡ªåŠ¨éƒ¨ç½²åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ä¸Šçš„context pathä¸­ï¼Œå¦‚æœç›®æ ‡æœåŠ¡å·²å­˜åœ¨ï¼Œé¦–å…ˆundeployç›®æ ‡æœåŠ¡ï¼Œå†æŠŠæ–°çš„waråŒ…redeloyä¸Šå»ï¼Œå·²å®Œæˆè‡ªåŠ¨éƒ¨ç½²çš„åŠŸèƒ½ã€‚</li><li>ä»…æ”¯æŒGlassFish,JBoss,Tomcat<br><img src="/../resources/jenkins/13.image" alt="å›¾ç‰‡"></li></ul><ol><li><p>å¢åŠ æ„å»ºåæ“ä½œæ­¥éª¤ä¸­é€‰æ‹©Deploy war&#x2F;ear to a container</p></li><li><p>WAR&#x2F;EAR filesä¸­å¡«ä¸Šæ‰€éœ€è¦éƒ¨ç½²çš„ç¨‹åºåŒ…ï¼Œæ”¯æŒ <code>**/*.war</code>çš„å½¢å¼</p></li><li><p>Context pathé…ç½®ç¨‹åºç›¸å¯¹äºä¸­é—´ä»¶ç¯å¢ƒçš„å‘å¸ƒè·¯å¾„</p></li><li><p>æœ¬æ–‡ä¸­Containersæˆ‘é€‰æ‹©äº†Tomcat 7.xï¼ŒCredentialséœ€è¦åœ¨tomcaté‡Œé…ç½®ä¸Šï¼ŒTomcat URLå³ç¯å¢ƒçš„åŸºç¡€åœ°å€</p><ul><li>åœ¨tomcatä¸­æ·»åŠ æˆæƒç”¨æˆ·ï¼šä¿®æ”¹conf&#x2F;tomcat-users.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">role</span> <span class="hljs-attr">rolename</span>=<span class="hljs-string">&quot;manager-script&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">username</span>=<span class="hljs-string">&quot;caozeal&quot;</span> <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;******&quot;</span> <span class="hljs-attr">roles</span>=<span class="hljs-string">&quot;manager-script&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/../resources/jenkins/14.image" alt="å›¾ç‰‡"></p></li><li><p>åªæ˜¯åšä¸Šè¾¹è¿™äº›é…ç½®çš„è¯ï¼Œä½ ä¼šå‘ç°Jenkinsçš„è‡ªåŠ¨éƒ¨ç½²ä»…æ”¯æŒç¬¬ä¸€æ¬¡ï¼Œå·²æœ‰æ—§ç‰ˆåº”ç”¨è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨éƒ¨ç½²ä¼šæŠ¥undeployå¤±è´¥ï¼ŒåŸå› æ˜¯åœ¨åº”ç”¨è¿è¡Œæ—¶ï¼Œtomcatä¼šå¯¹åº”ç”¨çš„èµ„æºè¿›è¡Œé”å®šï¼Œå¯¼è‡´æ— æ³•è¦†ç›–æ›´æ–°ï¼Œè¿™æ—¶éœ€ä¿®æ”¹tomcatçš„å¦ä¸€é¡¹é…ç½®ï¼šconf&#x2F;context.xmlï¼ˆè¯¦æƒ…å¯æŸ¥çœ‹<a href="https://blog.csdn.net/yanjun008/article/details/41249753">Tomcatä¸­antiResourceLockingå’ŒantiJARLockingçš„ä½œç”¨</a>ï¼‰</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">antiJARLocking</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">antiResourceLocking</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/../resources/jenkins/15.image" alt="å›¾ç‰‡"></p><h4 id="6-2-Publish-Over-SSHæ’ä»¶"><a href="#6-2-Publish-Over-SSHæ’ä»¶" class="headerlink" title="6.2 Publish Over SSHæ’ä»¶"></a>6.2 Publish Over SSHæ’ä»¶</h4><ul><li><p>é€šè¿‡SSHæ“ä½œç›®æ ‡æœåŠ¡ï¼Œä»è€Œä¼ è¾“æ–‡ä»¶ï¼Œæ‰§è¡Œå‘½ä»¤å·²è¾¾åˆ°ç›®çš„</p></li><li><p>æ›´çµæ´»ï¼Œæ”¯æŒå„ç§ä¸­é—´ä»¶æœåŠ¡å™¨</p></li><li><p>é¦–å…ˆåœ¨ç³»ç»Ÿè®¾ç½®ä¸­é…ç½®ä¸Šæ‰€éœ€è¿æ¥çš„è¿œç¨‹æœåŠ¡å™¨ï¼Œé…ç½®ä¸Šç›¸å…³é…ç½®ï¼Œå…¶ä¸­Remote Directoryæ˜¯è®¿é—®æœåŠ¡å™¨çš„åŸºç¡€è·¯å¾„ï¼Œä¹‹åæ­¥éª¤èƒ½ç”¨åˆ°<br><img src="/../resources/jenkins/16.image" alt="å›¾ç‰‡"></p></li><li><p>ç„¶åå›åˆ°ä»»åŠ¡é…ç½®ç»§ç»­é…ç½®æ„å»ºåæ“ä½œä¸€å—<br><img src="/../resources/jenkins/17.image" alt="å›¾ç‰‡"></p></li><li><p>Remote directoryè¿œç¨‹æœåŠ¡å™¨æ–‡ä»¶å¤¹ï¼Œç©ºå³ä¸ºé»˜è®¤çš„ä¸Šè¾¹æ­¥éª¤é…ç½®çš„è·¯å¾„ï¼Œå¦‚æœæ­¤å¤„ä¸ä¸ºç©ºï¼Œå³ä¸ºç›¸å¯¹è·¯å¾„</p></li><li><p>Remove prefix å»é™¤å‰ç½®è·¯å¾„</p></li><li><p>Exec command æ‰§è¡Œè„šæœ¬ï¼Œæ­¤å¤„çš„è„šæœ¬æ¯”è¾ƒç®€å•ï¼Œè°ƒç”¨ç›®æ ‡ä¸­é—´ä»¶çš„åœæ­¢ä¸å¯åŠ¨</p></li><li><p>éœ€è¦æ³¨æ„çš„æ˜¯æ‰§è¡Œè„šæœ¬çš„æ—¶å€™æœ‰ä¸ªå‘ï¼Œè¯»å–ä¸åˆ°ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼ŒåŸå› æ˜¯æ­¤å¤„æ‰§è¡Œè„šæœ¬çš„æ–¹å¼ä¸ºnon-interactive + non-login shellï¼Œä¸ä¼šè¯»å–&#x2F;etc&#x2F;profileä¸­çš„é…ç½®ï¼Œæ­¤å¤„çš„è§£å†³æ–¹æ¡ˆæ˜¯é‡‡ç”¨bashæ‰§è¡Œå‘½ä»¤ï¼Œç”±äºbashæ’æ‰§è¡ŒBASH_ENVä¸­çš„å˜é‡ï¼Œå› æ­¤éœ€è¦æŠŠ&#x2F;etc&#x2F;profieèµ‹å€¼åˆ°BASH_ENVä¸­ï¼Œè¯¦ç»†è§£å†³æ€è·¯å‚è€ƒé“¾æ¥</p><ul><li><a href="https://www.cnblogs.com/asia90li/p/6437677.html">sshè¿æ¥è¿œç¨‹ä¸»æœºæ‰§è¡Œè„šæœ¬çš„ç¯å¢ƒå˜é‡é—®é¢˜</a></li><li><a href="https://www.cnblogs.com/hopeworld/archive/2011/03/29/1998488.html">è½¬ï¼šæ·±å…¥äº†è§£bashä¸shçš„åŒºåˆ«</a></li></ul></li></ul><h2 id="ä¸‰ã€å…¶ä»–"><a href="#ä¸‰ã€å…¶ä»–" class="headerlink" title="ä¸‰ã€å…¶ä»–"></a>ä¸‰ã€å…¶ä»–</h2><ul><li>è‡³æ­¤å·²ç»å®Œæˆäº†ä»å¼€å‘äººå‘˜pushä»£ç åˆ°åº”ç”¨æ„å»ºã€éƒ¨ç½²ç­‰ç›¸å…³æ“ä½œçš„åŸºæœ¬è‡ªåŠ¨æµç¨‹ï¼Œå…·ä½“ç»†èŠ‚éƒ¨åˆ†è¿˜éœ€è¦ç»§ç»­æ·±å…¥ç ”ç©¶æ¢ç´¢</li><li>é—ç•™é—®é¢˜ï¼š<ul><li>Jenkinsæ„å»ºçš„æ—¶å€™æ§åˆ¶å°ä¹±ç <ul><li>å‚è€ƒ<a href="https://www.cnblogs.com/dtest/p/4142825.html">Jenkinsæ§åˆ¶å°ä¸­æ–‡è¾“å‡ºä¹±ç è§£å†³æ–¹æ³•</a>å¤„ç†</li><li>è§£å†³ä¹‹åï¼ŒJenkinså¯åŠ¨çš„tomcatå‘ç”Ÿä¹±ç </li></ul></li><li>è‡ªåŠ¨æ„å»ºéƒ¨ç½²çš„æ—¶å€™ï¼ŒJenkinsè°ƒç”¨å‘½ä»¤å¯åŠ¨StartTAS.shçš„æ—¶å€™ä¼šä¸€ç›´ç›‘å¬å¯åŠ¨æ—¥å¿—ï¼Œç›´åˆ°è¶…æ—¶æ‰æ–­å¼€é“¾æ¥ï¼Œè¿™æ—¶å€™å› è¶…æ—¶è€Œå¯¼è‡´æœ¬æ¬¡æ„å»ºä¸ºé»„ç¯ï¼Œå³ä¸ç¨³å®šçš„æ„å»º</li></ul></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>jenkins</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/03/02/hello-world/"/>
    <url>/2023/03/02/hello-world/</url>
    
    <content type="html"><![CDATA[<blockquote><p>å‚²ç„¶æ“¢æ¸…éª¨ï¼Œç»ä¸–å”³å¤©é—¨ã€‚</p></blockquote><h2 id="è¿™æ˜¯é¦–ç¯‡"><a href="#è¿™æ˜¯é¦–ç¯‡" class="headerlink" title="è¿™æ˜¯é¦–ç¯‡"></a>è¿™æ˜¯é¦–ç¯‡</h2><p> <a href="https://emojipedia.org/grinning-squinting-face/">ğŸ˜†</a>æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œä»…ä»…æ˜¯åˆ›å»ºå¥½ä¹‹åï¼Œæ€»å¾—å…ˆæœ‰ç‚¹ä¸œè¥¿åšä¸ªæ ‡è®°ï¼Œå°±åƒæ•°ç»„çš„index 0ï¼Œä¹‹åå°±å¾€åæ…¢æ…¢æ·»åŠ ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
